var MessageID, DisplayMessageID, SystemMessage, UpdatePage, ResendOTP;
setTimeout(function () {
  jQuery(MessageID).fadeOut();
}, 1e4);
setTimeout(function () {
  jQuery(DisplayMessageID).fadeOut();
}, 5e3);
setTimeout(function () {
  jQuery(SystemMessage).fadeOut();
}, 5e3);
setTimeout(function () {
  jQuery(UpdatePage).fadeOut();
}, 1e4);
setTimeout(function () {
  jQuery(ResendOTP).fadeIn();
}, 15e3);
$(document).keydown(function (cordin) {
  if (cordin.keyCode == 123) {
    return false;
  } else {
    if (cordin.ctrlKey && cordin.shiftKey && cordin.keyCode == 73) {
      return false;
    } else {
      if (cordin.ctrlKey && (cordin.keyCode === 85 || cordin.keyCode === 117)) {
        return false;
      } else {
        return true;
      }
    }
  }
});
$(document).on("contextmenu", function (darlenys) {
  darlenys.preventDefault();
});
jQuery.nl2br = function (manavi) {
  return manavi.replace(/(\r\n|\n\r|\r|\n)/g, "<br>");
};
jQuery.br2nl = function (deaton) {
  return deaton.replace(/\<br\>/g, "\n");
};
$(".toggle-password").click(function () {
  $(this).toggleClass("icon-eye icon-eye-slash");
  var redonda = document.getElementById("password");
  if (redonda.type === "password") {
    redonda.type = "text";
  } else {
    redonda.type = "password";
  }
});
$(".toggle-answer1").click(function () {
  $(this).toggleClass("icon-eye icon-eye-slash");
  var anayra = document.getElementById("answer1");
  if (anayra.type === "password") {
    anayra.type = "text";
  } else {
    anayra.type = "password";
  }
});
$(".toggle-answer2").click(function () {
  $(this).toggleClass("icon-eye icon-eye-slash");
  var jayken = document.getElementById("answer2");
  if (jayken.type === "password") {
    jayken.type = "text";
  } else {
    jayken.type = "password";
  }
});
$(".toggle-answer3").click(function () {
  $(this).toggleClass("icon-eye icon-eye-slash");
  var xayn = document.getElementById("answer3");
  if (xayn.type === "password") {
    xayn.type = "text";
  } else {
    xayn.type = "password";
  }
});
function MobileNumberSearchFormRow() {
  var tinika = document.getElementById("MobileNumberSearchFormID");
  if (tinika.style.display === "none") {
    tinika.style.display = "block";
  } else {
    tinika.style.display = "none";
  }
}
function UploadDNDNumber() {
  var ames = document.getElementById("UploadDNDNumberFormID");
  if (ames.style.display === "none") {
    ames.style.display = "block";
  } else {
    ames.style.display = "none";
  }
}
function validateEmail(danyiah) {
  var ofa = /^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/;
  if (ofa.test(danyiah)) {
    return true;
  } else {
    return false;
  }
}
function PendingJobMessage() {
  swal("Error", "Job has not been processed yet to download report.", "error");
}
function OpenThemeSetting() {
  $("#theme-options").fadeIn(10);
  $("#OpenThemeSetting").fadeOut(0);
  $("#CloseThemeSetting").fadeIn(0);
}
function CloseThemeSetting() {
  $("#theme-options").fadeOut(10);
  $("#CloseThemeSetting").fadeOut(0);
  $("#OpenThemeSetting").fadeIn(0);
}
function ConnectionMode(ConnectionMode) {
  if (ConnectionMode == "TxRx") {
    $("#TxRxID").fadeIn(0);
    $("#TRXID").fadeOut(0);
  } else {
    if (ConnectionMode == "TRX") {
      $("#TRXID").fadeIn(0);
      $("#TxRxID").fadeOut(0);
    } else {
      $("#TRXID").fadeOut(0);
      $("#TxRxID").fadeOut(0);
    }
  }
}
function SelectSMPPUser(theophile) {
  window.location.href = "users-smpp-gateway.php?UsersID=" + theophile;
}
function ChangeMisscall(adhyan) {
  window.location.href = "misscall-report.php?mode=search&misscall_mobile=" + adhyan;
}
function ResetTheme() {
  swal({ title: "Are you sure?", text: "Theme will be set with default setting.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, reset it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (aniv) {
    if (aniv) {
      $.ajax({
        url: "processor.php", data: "mode=reset-theme", type: "POST", async: true, success: function (lakshmi) {
          var seretha = jQuery.parseJSON(lakshmi);
          if (seretha.status == "success") {
            swal({ title: "Wow!", text: "Theme has been successfully reset with default setting.", type: "success" }, function () {
              window.location.href = "branding-panel.php";
            });
          }
        }, error: function (corri, pauletta) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function Resettheme() {
  swal({ title: "Are you sure?", text: "Theme will be set with default setting.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, reset it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (aniv) {
    if (aniv) {
      $.ajax({
        url: "processor.php", data: "mode=reset-theme", type: "POST", async: true, success: function (lakshmi) {
          var seretha = jQuery.parseJSON(lakshmi);
          if (seretha.status == "success") {
            swal({ title: "Wow!", text: "Theme has been successfully reset with default setting.", type: "success" }, function () {
              window.location.href = "compose.php";
            });
          }
        }, error: function (corri, pauletta) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function isNumberKey(lavita) {
  var behruz = lavita.which ? lavita.which : event.keyCode;
  if (behruz > 31 && (behruz < 48 || behruz > 57)) {
    return false;
  }
  ;
  return true;
}
function clearForm(lushonda) {
  $(":input", lushonda).each(function () {
    var eliijah = this.type;
    var ellis = this.tagName.toLowerCase();
    if (eliijah == "text" || eliijah == "password" || ellis == "textarea") {
      this.value = "";
    } else {
      if (eliijah == "checkbox" || eliijah == "radio") {
        this.checked = false;
      } else {
        if (ellis == "select") {
          this.selectedIndex = -1;
        }
      }
    }
  });
}
function phoneno() {
  $("#mobile").keypress(function (santi) {
    var orissa = [];
    var annleigh = santi.which;
    for (i = 48; i < 58; i++) {
      orissa.push(i);
    }
    ;
    if (!(orissa.indexOf(annleigh) >= 0)) {
      santi.preventDefault();
    }
  });
}
function zipcode() {
  $("#zipcode").keypress(function (charlytte) {
    var cesear = [];
    var xzavius = charlytte.which;
    for (i = 48; i < 58; i++) {
      cesear.push(i);
    }
    ;
    if (!(cesear.indexOf(xzavius) >= 0)) {
      charlytte.preventDefault();
    }
  });
}
function SubmitLogin() {
  $("#DisplayMessageID").fadeOut(50);
  var brentson = document.getElementById("username");
  var shametra = document.getElementById("password");
  if (brentson.value.trim() == "") {
    $("#SystemMessage").fadeIn(100);
    document.getElementById("SystemMessage").innerHTML = "Please enter account username";
    brentson.select();
    return false;
  } else {
    if (shametra.value.trim() == "") {
      $("#SystemMessage").fadeIn(100);
      document.getElementById("SystemMessage").innerHTML = "Please enter account password";
      shametra.select();
      return false;
    } else {
      $("#SystemMessage").fadeIn(50);
      document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
      $("#LoginForm").fadeOut(50);
      $.ajax({
        url: "processor.php?mode=login", data: $("#LoginForm").serialize(), type: "POST", async: true, success: function (niquel) {
          var konnor = jQuery.parseJSON(niquel);
          if (konnor.status == "success") {
            $("#SystemMessage").fadeIn(500);
            $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
            document.getElementById("SystemMessage").innerHTML = "Login successful ... redirecting <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
            brentson.value = "";
            shametra.value = "";
            $("#LoginForm").fadeOut(100);
            document.location.href = "compose.php";
          }
          ;
          if (konnor.status == "success-otp") {
            $("#SystemMessage").fadeIn(500);
            $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
            document.getElementById("SystemMessage").innerHTML = "OTP has been sent to your mobile (" + konnor.mobile + ") and email id " + konnor.email;
            brentson.value = "";
            shametra.value = "";
            $("#LoginForm").fadeOut(0);
            $("#LoginFormOTP").fadeIn(100);
          }
          ;
          if (konnor.status == "success-qa") {
            $("#SystemMessage").fadeIn(500);
            $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
            document.getElementById("SystemMessage").innerHTML = "Please enter correct answer to authenticate.";
            document.getElementById("SecurityQuestionID").innerHTML = konnor.security_question;
            brentson.value = "";
            shametra.value = "";
            $("#LoginForm").fadeOut(0);
            $("#LoginFormSecurityQuestion").fadeIn(100);
          } else {
            if (konnor.status == "error-qa") {
              $("#LoginForm").fadeIn(50);
              brentson.select();
              shametra.value = "";
              $("#SystemMessage").fadeIn(100);
              $("#LoginBox").removeAttr("style");
              $("#LoginBox").removeClass("bounceInDown");
              $("#LoginBox").addClass("shake");
              document.getElementById("SystemMessage").innerHTML = "Security questions and answers arent set properly.";
            } else {
              if (konnor.status == "error") {
                $("#LoginForm").fadeIn(50);
                brentson.select();
                shametra.value = "";
                $("#SystemMessage").fadeIn(100);
                $("#LoginBox").removeAttr("style");
                $("#LoginBox").removeClass("bounceInDown");
                $("#LoginBox").addClass("shake");
                if (konnor.failedloginnum != "NONE") {
                  document.getElementById("SystemMessage").innerHTML = "Username and Password authentication failed. " + konnor.failedloginnum + " failed login attempts since last successful login.";
                } else {
                  document.getElementById("SystemMessage").innerHTML = "Username and Password authentication failed..";
                }
              } else {
                if (konnor.status == "login-exceeded") {
                  $("#LoginForm").fadeOut(50);
                  brentson.value = "";
                  shametra.value = "";
                  $("#SystemMessage").fadeIn(100);
                  $("#LoginBox").removeAttr("style");
                  $("#LoginBox").removeClass("bounceInDown");
                  $("#LoginBox").addClass("shake");
                  document.getElementById("SystemMessage").innerHTML = "Your account has been inactivated due to login limit exceeded. " + konnor.failedloginnum + " failed login attempts since last successful login. Please contact your account manager.";
                } else {
                  if (konnor.status == "inactive") {
                    $("#LoginForm").fadeIn(50);
                    brentson.select();
                    shametra.value = "";
                    $("#SystemMessage").fadeIn(100);
                    $("#LoginBox").removeAttr("style");
                    $("#LoginBox").removeClass("bounceInDown");
                    $("#LoginBox").addClass("shake");
                    document.getElementById("SystemMessage").innerHTML = "Your account is inactivated. Please contact administrator.";
                  } else {
                    if (konnor.status == "not-verified") {
                      $("#LoginForm").fadeIn(50);
                      brentson.select();
                      shametra.value = "";
                      $("#SystemMessage").fadeIn(100);
                      $("#LoginBox").removeAttr("style");
                      $("#LoginBox").removeClass("bounceInDown");
                      $("#LoginBox").addClass("shake");
                      document.getElementById("SystemMessage").innerHTML = "Email address is not verified. Please checkout your mailbox.";
                    } else {
                      if (konnor.status == "error-occured") {
                        $("#LoginForm").fadeIn(50);
                        brentson.select();
                        shametra.value = "";
                        $("#SystemMessage").fadeIn(100);
                        $("#LoginBox").removeAttr("style");
                        $("#LoginBox").removeClass("bounceInDown");
                        $("#LoginBox").addClass("shake");
                        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
                      }
                    }
                  }
                }
              }
            }
          }
        }, error: function (ilda, abisai) {
          $("#LoginForm").fadeIn(50);
          brentson.select();
          shametra.value = "";
          $("#SystemMessage").fadeIn(100);
          $("#LoginBox").removeAttr("style");
          $("#LoginBox").removeClass("bounceInDown");
          $("#LoginBox").addClass("shake");
          document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
        }
      });
    }
  }
}
function SubmitLoginOTP() {
  $("#DisplayMessageID").fadeOut(50);
  var keiliana = document.getElementById("verification_code");
  if (keiliana.value.trim() == "") {
    $("#SystemMessage").fadeIn(100);
    document.getElementById("SystemMessage").innerHTML = "Please enter valid OTP";
    keiliana.select();
    return false;
  } else {
    $("#SystemMessage").fadeIn(50);
    document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
    $("#LoginFormOTP").fadeOut(50);
    $.ajax({
      url: "processor.php?mode=login_otp", data: $("#LoginFormOTP").serialize(), type: "POST", async: true, success: function (aubreella) {
        var charlotteann = jQuery.parseJSON(aubreella);
        if (charlotteann.status == "success") {
          $("#SystemMessage").fadeIn(500);
          $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
          document.getElementById("SystemMessage").innerHTML = "Login successful ... redirecting <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
          keiliana.value = "";
          $("#LoginFormOTP").fadeOut(100);
          document.location.href = "compose.php";
        } else {
          if (charlotteann.status == "error") {
            $("#LoginFormOTP").fadeIn(50);
            keiliana.select();
            $("#SystemMessage").fadeIn(100);
            $("#LoginBoxOTP").removeAttr("style");
            $("#LoginBoxOTP").removeClass("bounceInDown");
            $("#LoginBoxOTP").addClass("shake");
            document.getElementById("SystemMessage").innerHTML = "OTP authentication failed.";
          } else {
            $("#LoginFormOTP").fadeIn(50);
            keiliana.select();
            $("#SystemMessage").fadeIn(100);
            $("#LoginBoxOTP").removeAttr("style");
            $("#LoginBoxOTP").removeClass("bounceInDown");
            $("#LoginBoxOTP").addClass("shake");
            document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
          }
        }
      }, error: function (shekena, etash) {
        $("#LoginFormOTP").fadeIn(50);
        keiliana.select();
        $("#SystemMessage").fadeIn(100);
        $("#LoginBoxOTP").removeAttr("style");
        $("#LoginBoxOTP").removeClass("bounceInDown");
        $("#LoginBoxOTP").addClass("shake");
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
      }
    });
  }
}
function SubmitLoginSecurityQuestion() {
  $("#DisplayMessageID").fadeOut(50);
  var breniya = document.getElementById("security_answer");
  if (breniya.value.trim() == "") {
    $("#SystemMessage").fadeIn(100);
    document.getElementById("SystemMessage").innerHTML = "Please enter correct answer";
    breniya.select();
    return false;
  } else {
    $("#SystemMessage").fadeIn(50);
    document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
    $("#LoginFormSecurityQuestion").fadeOut(50);
    $.ajax({
      url: "processor.php?mode=login_security_question", data: $("#LoginFormSecurityQuestion").serialize(), type: "POST", async: true, success: function (polaris) {
        var jaimir = jQuery.parseJSON(polaris);
        if (jaimir.status == "success") {
          $("#SystemMessage").fadeIn(500);
          $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
          document.getElementById("SystemMessage").innerHTML = "Login successful ... redirecting <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
          breniya.value = "";
          $("#LoginFormSecurityQuestion").fadeOut(100);
          document.location.href = "compose.php";
        } else {
          if (jaimir.status == "error") {
            $("#LoginFormSecurityQuestion").fadeIn(50);
            breniya.select();
            $("#SystemMessage").fadeIn(100);
            $("#LoginBoxSecurityQuestion").removeAttr("style");
            $("#LoginBoxSecurityQuestion").removeClass("bounceInDown");
            $("#LoginBoxSecurityQuestion").addClass("shake");
            document.getElementById("SystemMessage").innerHTML = "Your answer is incorrect. Try again!";
          } else {
            $("#LoginFormSecurityQuestion").fadeIn(50);
            breniya.select();
            $("#SystemMessage").fadeIn(100);
            $("#LoginBoxSecurityQuestion").removeAttr("style");
            $("#LoginBoxSecurityQuestion").removeClass("bounceInDown");
            $("#LoginBoxSecurityQuestion").addClass("shake");
            document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
          }
        }
      }, error: function (arlenis, darwing) {
        $("#LoginFormSecurityQuestion").fadeIn(50);
        breniya.select();
        $("#SystemMessage").fadeIn(100);
        $("#LoginBoxSecurityQuestion").removeAttr("style");
        $("#LoginBoxSecurityQuestion").removeClass("bounceInDown");
        $("#LoginBoxSecurityQuestion").addClass("shake");
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
      }
    });
  }
}
function ResendLoginOTP() {
  $("#SystemMessage").fadeOut(0);
  $("#SystemMessage").fadeIn(100);
  document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php?mode=resend-login-otp", data: $("#LoginFormOTP").serialize(), type: "POST", async: true, success: function (xenia) {
      var ahlina = jQuery.parseJSON(xenia);
      if (ahlina.status == "success-otp") {
        $("#SystemMessage").fadeIn(500);
        $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
        document.getElementById("SystemMessage").innerHTML = "OTP has been re-sent to your mobile and email id";
        verification_code.value = "";
        $("#LoginFormOTP").fadeIn(100);
      } else {
        $("#LoginFormOTP").fadeIn(50);
        verification_code.select();
        $("#SystemMessage").fadeIn(100);
        $("#LoginBoxOTP").removeAttr("style");
        $("#LoginBoxOTP").removeClass("bounceInDown");
        $("#LoginBoxOTP").addClass("shake");
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
        setTimeout(function () {
          document.location.href = "login.php";
        }, 500);
      }
    }, error: function (maliq, tyianna) {
      $("#LoginFormOTP").fadeIn(50);
      verification_code.select();
      $("#SystemMessage").fadeIn(100);
      $("#LoginBoxOTP").removeAttr("style");
      $("#LoginBoxOTP").removeClass("bounceInDown");
      $("#LoginBoxOTP").addClass("shake");
      document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
      setTimeout(function () {
        document.location.href = "login.php";
      }, 500);
    }
  });
}
function SubmitVerifyMobiile() {
  $("#DisplayMessageID").fadeOut(50);
  var edyta = document.getElementById("username");
  var janell = document.getElementById("fullname");
  var tydarious = document.getElementById("company_name");
  var zipcode = document.getElementById("zipcode");
  var theodies = document.getElementById("email");
  var cherol = document.getElementById("mobile");
  var leelynd = document.getElementById("terms");
  if (edyta.value.trim() == "") {
    $("#SystemMessage").fadeIn(500);
    document.getElementById("SystemMessage").innerHTML = "Please enter username";
    edyta.select();
    return false;
  } else {
    if (janell.value.trim() == "") {
      $("#SystemMessage").fadeIn(500);
      document.getElementById("SystemMessage").innerHTML = "Please enter full name";
      janell.select();
      return false;
    } else {
      if (tydarious.value.trim() == "") {
        $("#SystemMessage").fadeIn(500);
        document.getElementById("SystemMessage").innerHTML = "Please enter company name";
        tydarious.select();
        return false;
      } else {
        if (theodies.value.trim() == "") {
          $("#SystemMessage").fadeIn(500);
          document.getElementById("SystemMessage").innerHTML = "Please enter an email address";
          theodies.select();
          return false;
        } else {
          if (!validateEmail(theodies.value.trim())) {
            $("#SystemMessage").fadeIn(500);
            document.getElementById("SystemMessage").innerHTML = "Please enter a valid email address";
            theodies.select();
            return false;
          } else {
            if (cherol.value.trim() == "") {
              $("#SystemMessage").fadeIn(500);
              document.getElementById("SystemMessage").innerHTML = "Please enter mobile";
              cherol.focus();
              return false;
            } else {
              if (!$.isNumeric(cherol.value.trim())) {
                $("#SystemMessage").fadeIn(500);
                document.getElementById("SystemMessage").innerHTML = "Please enter 10 digit numeric mobile number";
                cherol.focus();
                return false;
              } else {
                if (cherol.value.length != 10) {
                  $("#SystemMessage").fadeIn(500);
                  document.getElementById("SystemMessage").innerHTML = "Please enter 10 digit mobile number";
                  cherol.focus();
                  return false;
                } else {
                  if (zipcode.value.trim() == "") {
                    $("#SystemMessage").fadeIn(500);
                    document.getElementById("SystemMessage").innerHTML = "Please enter zipcode";
                    zipcode.focus();
                    return false;
                  } else {
                    if (!leelynd.checked) {
                      $("#SystemMessage").fadeIn(500);
                      document.getElementById("SystemMessage").innerHTML = "Please accept terms and conditions";
                      return false;
                    } else {
                      $("#SystemMessage").fadeIn(50);
                      document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
                      $("#RegisterForm").fadeOut(100);
                      $.ajax({
                        url: "processor.php?mode=register_otp", data: $("#RegisterForm").serialize(), type: "POST", async: true, success: function (kanysha) {
                          if (kanysha == "success") {
                            $("#RegisterForm").fadeIn(100);
                            $("#SystemMessage").fadeIn(100);
                            $("#VerifyMobileID").fadeOut(100);
                            $("#MobileVerificationID").fadeIn(100);
                            $("#RegisterButtonID").fadeIn(100);
                            document.getElementById("SystemMessage").innerHTML = "OTP has been sent to your mobile";
                          }
                          ;
                          if (kanysha == "error") {
                            $("#RegisterForm").fadeIn(100);
                            $("#SystemMessage").fadeIn(100);
                            $("#RegisterBox").remveAttr("style");
                            $("#RegisterBox").removeClass("bounceInDown");
                            $("#RegisterBox").addClass("shake");
                            document.getElementById("SystemMessage").innerHTML = "An error occurred during the process.";
                            registration_email.select();
                          }
                        }, error: function (bryland, mayann) {
                          $("#RegisterForm").fadeIn(50);
                          registration_password.value = "";
                          $("#SystemMessage").fadeIn(100);
                          $("#RegisterBox").removeAttr("style");
                          $("#RegisterBox").removeClass("bounceInDown");
                          $("#RegisterBox").addClass("shake");
                          document.getElementById("SystemMessage").innerHTML = "An error occurred during the process.";
                        }
                      });
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
function SubmitRegistration() {
  $("#DisplayMessageID").fadeOut(50);
  var joshau = document.getElementById("username");
  var aliz = document.getElementById("fullname");
  var amillie = document.getElementById("company_name");
  var zipcode = document.getElementById("zipcode");
  var torino = document.getElementById("email");
  var yarley = document.getElementById("mobile");
  var gracelinn = document.getElementById("terms");
  if (joshau.value.trim() == "") {
    $("#SystemMessage").fadeIn(500);
    document.getElementById("SystemMessage").innerHTML = "Please enter username";
    joshau.select();
    return false;
  } else {
    if (aliz.value.trim() == "") {
      $("#SystemMessage").fadeIn(500);
      document.getElementById("SystemMessage").innerHTML = "Please enter full name";
      aliz.select();
      return false;
    } else {
      if (amillie.value.trim() == "") {
        $("#SystemMessage").fadeIn(500);
        document.getElementById("SystemMessage").innerHTML = "Please enter company name";
        amillie.select();
        return false;
      } else {
        if (torino.value.trim() == "") {
          $("#SystemMessage").fadeIn(500);
          document.getElementById("SystemMessage").innerHTML = "Please enter an email address";
          torino.select();
          return false;
        } else {
          if (!validateEmail(torino.value.trim())) {
            $("#SystemMessage").fadeIn(500);
            document.getElementById("SystemMessage").innerHTML = "Please enter a valid email address";
            torino.select();
            return false;
          } else {
            if (yarley.value.trim() == "") {
              $("#SystemMessage").fadeIn(500);
              document.getElementById("SystemMessage").innerHTML = "Please enter mobile";
              yarley.focus();
              return false;
            } else {
              if (!$.isNumeric(yarley.value.trim())) {
                $("#SystemMessage").fadeIn(500);
                document.getElementById("SystemMessage").innerHTML = "Please enter 10 digit numeric mobile number";
                yarley.focus();
                return false;
              } else {
                if (yarley.value.length != 10) {
                  $("#SystemMessage").fadeIn(500);
                  document.getElementById("SystemMessage").innerHTML = "Please enter 10 digit mobile number";
                  yarley.focus();
                  return false;
                } else {
                  if (zipcode.value.trim() == "") {
                    $("#SystemMessage").fadeIn(500);
                    document.getElementById("SystemMessage").innerHTML = "Please enter zipcode";
                    zipcode.focus();
                    return false;
                  } else {
                    if (!gracelinn.checked) {
                      $("#SystemMessage").fadeIn(500);
                      document.getElementById("SystemMessage").innerHTML = "Please accept terms and conditions";
                      return false;
                    } else {
                      $("#SystemMessage").fadeIn(50);
                      document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
                      $("#RegisterForm").fadeOut(100);
                      $.ajax({
                        url: "processor.php?mode=register", data: $("#RegisterForm").serialize(), type: "POST", async: true, success: function (res) {
                          var res = jQuery.parseJSON(res);
                          if (res.status == "success") {
                            $("#RegisterForm").fadeOut(100);
                            $("#SystemMessage").fadeIn(100);
                            document.getElementById("SystemMessage").innerHTML = "You have successfully registered with us. Your account is in inactive mode for verification. If you have any questions please contact administrator.<br>Redirecting to login page ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
                            setTimeout(function () {
                              document.location.href = "login.php";
                            }, 500);
                          }
                          ;
                          if (res.status == "username-exist") {
                            $("#RegisterForm").fadeIn(100);
                            $("#SystemMessage").fadeIn(100);
                            $("#RegisterBox").removeAttr("style");
                            $("#RegisterBox").removeClass("bounceInDown");
                            $("#RegisterBox").addClass("shake");
                            document.getElementById("SystemMessage").innerHTML = "Username already exist. Please try another username.";
                            joshau.select();
                          }
                          ;
                          if (res.status == "error") {
                            $("#RegisterForm").fadeIn(100);
                            $("#SystemMessage").fadeIn(100);
                            $("#RegisterBox").removeAttr("style");
                            $("#RegisterBox").removeClass("bounceInDown");
                            $("#RegisterBox").addClass("shake");
                            document.getElementById("SystemMessage").innerHTML = "An error occurred during the process.";
                            registration_email.select();
                          }
                        }, error: function (francico, stehpanie) {
                          $("#RegisterForm").fadeIn(50);
                          registration_password.value = "";
                          $("#SystemMessage").fadeIn(100);
                          $("#RegisterBox").removeAttr("style");
                          $("#RegisterBox").removeClass("bounceInDown");
                          $("#RegisterBox").addClass("shake");
                          document.getElementById("SystemMessage").innerHTML = "An error occurred during the process.";
                        }
                      });
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
function ResetPassword() {
  var macarius = document.getElementById("username");
  if (macarius.value.trim() == "") {
    $("#SystemMessage").fadeIn(100);
    document.getElementById("SystemMessage").innerHTML = "Please enter account username";
    macarius.select();
    return false;
  } else {
    $("#SystemMessage").fadeIn(50);
    document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
    $("#ForgotPasswordForm").fadeOut(50);
    $.ajax({
      url: "processor.php?mode=forgot-password", data: $("#ForgotPasswordForm").serialize(), type: "POST", async: true, success: function (kayani) {
        var dejanelle = jQuery.parseJSON(kayani);
        if (dejanelle.status == "success") {
          $("#SystemMessage").fadeIn(500);
          $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
          document.getElementById("SystemMessage").innerHTML = "We have successfully sent new password to your email. <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
          macarius.value = "";
          $("#ForgotPasswordForm").fadeOut(100);
          setTimeout(function () {
            document.location.href = "login.php";
          }, 500);
        }
        ;
        if (dejanelle.status == "success-otp") {
          $("#SystemMessage").fadeIn(500);
          $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
          document.getElementById("SystemMessage").innerHTML = "OTP has been sent to your mobile (" + dejanelle.mobile + ") and email id " + dejanelle.email;
          macarius.value = "";
          $("#ForgotPasswordForm").fadeOut(0);
          $("#ForgotPasswordFormOTP").fadeIn(100);
        } else {
          if (dejanelle.status == "error") {
            $("#ForgotPasswordForm").fadeIn(50);
            macarius.select();
            $("#SystemMessage").fadeIn(100);
            $("#ForgotPasswordBox").removeAttr("style");
            $("#ForgotPasswordBox").removeClass("bounceInDown");
            $("#ForgotPasswordBox").addClass("shake");
            document.getElementById("SystemMessage").innerHTML = "Username authentication failed.";
          } else {
            if (dejanelle.status == "error-occured") {
              $("#ForgotPasswordForm").fadeIn(50);
              macarius.select();
              $("#SystemMessage").fadeIn(100);
              $("#ForgotPasswordBox").removeAttr("style");
              $("#ForgotPasswordBox").removeClass("bounceInDown");
              $("#ForgotPasswordBox").addClass("shake");
              document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
            }
          }
        }
      }, error: function (jalaya, bralynne) {
        $("#ForgotPasswordForm").fadeIn(50);
        macarius.select();
        $("#SystemMessage").fadeIn(100);
        $("#ForgotPasswordBox").removeAttr("style");
        $("#ForgotPasswordBox").removeClass("bounceInDown");
        $("#ForgotPasswordBox").addClass("shake");
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
      }
    });
  }
}
function SubmitForgotPasswordOTP() {
  $("#DisplayMessageID").fadeOut(50);
  var kahleya = document.getElementById("verification_code");
  if (kahleya.value.trim() == "") {
    $("#SystemMessage").fadeIn(100);
    document.getElementById("SystemMessage").innerHTML = "Please enter valid OTP";
    kahleya.select();
    return false;
  } else {
    $("#SystemMessage").fadeIn(50);
    document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
    $("#LoginFormOTP").fadeOut(50);
    $.ajax({
      url: "processor.php?mode=forgot_password_otp", data: $("#ForgotPasswordFormOTP").serialize(), type: "POST", async: true, success: function (ahyonna) {
        var demitra = jQuery.parseJSON(ahyonna);
        if (demitra.status == "success") {
          $("#SystemMessage").fadeIn(500);
          $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
          document.getElementById("SystemMessage").innerHTML = "Verification successful ... redirecting <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
          kahleya.value = "";
          $("#ForgotPasswordFormOTP").fadeOut(100);
          document.location.href = "login.php";
        } else {
          if (demitra.status == "error") {
            $("#ForgotPasswordFormOTP").fadeIn(50);
            kahleya.select();
            $("#SystemMessage").fadeIn(100);
            $("#ForgotPasswordBoxOTP").removeAttr("style");
            $("#ForgotPasswordBoxOTP").removeClass("bounceInDown");
            $("#ForgotPasswordBoxOTP").addClass("shake");
            document.getElementById("SystemMessage").innerHTML = "OTP authentication failed.";
          } else {
            $("#ForgotPasswordFormOTP").fadeIn(50);
            kahleya.select();
            $("#SystemMessage").fadeIn(100);
            $("#ForgotPasswordBoxOTP").removeAttr("style");
            $("#ForgotPasswordBoxOTP").removeClass("bounceInDown");
            $("#ForgotPasswordBoxOTP").addClass("shake");
            document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
          }
        }
      }, error: function (sabrinah, yesmeen) {
        $("#ForgotPasswordFormOTP").fadeIn(50);
        kahleya.select();
        $("#SystemMessage").fadeIn(100);
        $("#ForgotPasswordBoxOTP").removeAttr("style");
        $("#ForgotPasswordBoxOTP").removeClass("bounceInDown");
        $("#ForgotPasswordBoxOTP").addClass("shake");
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
      }
    });
  }
}
function ResendForgotPasswordOTP() {
  $("#SystemMessage").fadeOut(0);
  $("#SystemMessage").fadeIn(100);
  document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php?mode=resend-forgot-password-otp", data: $("#ForgotPasswordFormOTP").serialize(), type: "POST", async: true, success: function (jaice) {
      var amandamarie = jQuery.parseJSON(jaice);
      if (amandamarie.status == "success-otp") {
        $("#SystemMessage").fadeIn(500);
        $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
        document.getElementById("SystemMessage").innerHTML = "OTP has been sent to your mobile (" + amandamarie.mobile + ") and email id " + amandamarie.email;
        verification_code.value = "";
        $("#ForgotPasswordFormOTP").fadeIn(100);
      } else {
        $("#ForgotPasswordFormOTP").fadeIn(50);
        verification_code.select();
        $("#SystemMessage").fadeIn(100);
        $("#ForgotPasswordBoxOTP").removeAttr("style");
        $("#ForgotPasswordBoxOTP").removeClass("bounceInDown");
        $("#ForgotPasswordBoxOTP").addClass("shake");
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
        setTimeout(function () {
          document.location.href = "login.php";
        }, 500);
      }
    }, error: function (kazuye, altin) {
      $("#ForgotPasswordFormOTP").fadeIn(50);
      $("#SystemMessage").fadeIn(100);
      $("#ForgotPasswordBoxOTP").removeAttr("style");
      $("#ForgotPasswordBoxOTP").removeClass("bounceInDown");
      $("#ForgotPasswordBoxOTP").addClass("shake");
      document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
      setTimeout(function () {
        document.location.href = "forgot-password.php";
      }, 500);
    }
  });
}
function UpdatePassword() {
  var tiffoni = document.getElementById("current_password");
  var vianca = document.getElementById("new_password");
  var raavi = document.getElementById("repeat_password");
  if (tiffoni.value.trim() == "") {
    $("#SystemMessage").fadeIn(500);
    document.getElementById("SystemMessage").innerHTML = "Please enter your current password";
    tiffoni.focus();
    return false;
  } else {
    if (vianca.value.trim() == "") {
      $("#SystemMessage").fadeIn(500);
      document.getElementById("SystemMessage").innerHTML = "Please enter your new password";
      vianca.focus();
      return false;
    } else {
      if (vianca.value.trim() != raavi.value.trim()) {
        $("#SystemMessage").fadeIn(500);
        document.getElementById("SystemMessage").innerHTML = "Please enter your same repeat password";
        raavi.focus();
        return false;
      } else {
        $("#SystemMessage").fadeIn(100);
        $("#ChangePassword").fadeOut(100);
        document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='Processing'></div>";
        $.ajax({
          url: "processor.php?mode=change-password&action=add-session", data: $("#PasswordForm").serialize(), type: "POST", async: true, success: function (kenedee) {
            if (kenedee == "success") {
              $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
              $("#SystemMessage").fadeIn(500);
              document.getElementById("current_password").value = "";
              document.getElementById("new_password").value = "";
              document.getElementById("repeat_password").value = "";
              $("#ChangePassword").fadeIn(1e3);
              document.getElementById("SystemMessage").innerHTML = "You have successfully updated your account password.";
            }
            ;
            if (kenedee == "error") {
              $("#SystemMessage").fadeIn(100);
              $("#PasswordForm").fadeIn(100);
              $("#ChangePassword").fadeIn(100);
              document.getElementById("SystemMessage").innerHTML = "Error: Current password couldnt match.";
            }
            ;
            if (kenedee == "error-occured") {
              $("#SystemMessage").fadeIn(100);
              $("#PasswordForm").fadeIn(100);
              $("#ChangePassword").fadeIn(100);
              document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
            }
          }, error: function (edelynn, deeshawn) {
            $("#PasswordForm").fadeIn(50);
            username.select();
            password.value = "";
            $("#SystemMessage").fadeIn(100);
            document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
          }
        });
      }
    }
  }
}
function UpdateProfile() {
  var ouida = document.getElementById("email");
  var akeshia = document.getElementById("fullname");
  var floride = document.getElementById("address");
  var johneka = document.getElementById("city");
  var dedi = document.getElementById("state");
  var zipcode = document.getElementById("zipcode");
  var sinh = document.getElementById("mobile");
  var biatris = document.getElementById("company_name");
  var wen = document.getElementById("new_api_key");
  if (akeshia.value.trim() == "") {
    $("#SystemMessage").fadeIn(500);
    document.getElementById("SystemMessage").innerHTML = "Please enter your full name";
    akeshia.focus();
    $("html, body").animate({ scrollTop: "200px" }, 800);
    return false;
  } else {
    if (biatris.value.trim() == "") {
      $("#SystemMessage").fadeIn(500);
      document.getElementById("SystemMessage").innerHTML = "Please enter your company name";
      biatris.select();
      $("html, body").animate({ scrollTop: "200px" }, 800);
      return false;
    } else {
      if (ouida.value.trim() == "") {
        $("#SystemMessage").fadeIn(500);
        document.getElementById("SystemMessage").innerHTML = "Please enter an email address";
        ouida.select();
        $("html, body").animate({ scrollTop: "200px" }, 800);
        return false;
      } else {
        if (!validateEmail(ouida.value.trim())) {
          $("#SystemMessage").fadeIn(500);
          document.getElementById("SystemMessage").innerHTML = "Please enter a valid email address";
          ouida.select();
          $("html, body").animate({ scrollTop: "200px" }, 800);
          return false;
        } else {
          if (floride.value.trim() == "") {
            $("#SystemMessage").fadeIn(500);
            document.getElementById("SystemMessage").innerHTML = "Please enter your address";
            floride.focus();
            $("html, body").animate({ scrollTop: "200px" }, 800);
            return false;
          } else {
            if (dedi.value.trim() == "") {
              $("#SystemMessage").fadeIn(500);
              document.getElementById("SystemMessage").innerHTML = "Please enter your state";
              dedi.focus();
              $("html, body").animate({ scrollTop: "200px" }, 800);
              return false;
            } else {
              if (johneka.value.trim() == "") {
                $("#SystemMessage").fadeIn(500);
                document.getElementById("SystemMessage").innerHTML = "Please enter your city";
                johneka.focus();
                $("html, body").animate({ scrollTop: "200px" }, 800);
                return false;
              } else {
                if (zipcode.value.trim() == "") {
                  $("#SystemMessage").fadeIn(500);
                  document.getElementById("SystemMessage").innerHTML = "Please enter your zipcode";
                  zipcode.focus();
                  $("html, body").animate({ scrollTop: "200px" }, 800);
                  return false;
                } else {
                  if (sinh.value.trim() == "") {
                    $("#SystemMessage").fadeIn(500);
                    document.getElementById("SystemMessage").innerHTML = "Please enter your mobile";
                    sinh.focus();
                    $("html, body").animate({ scrollTop: "200px" }, 800);
                    return false;
                  } else {
                    if (sinh.value.length != 10) {
                      $("#SystemMessage").fadeIn(500);
                      document.getElementById("SystemMessage").innerHTML = "Please enter your valid 10 digit mobile number";
                      sinh.focus();
                      $("html, body").animate({ scrollTop: "200px" }, 800);
                      return false;
                    } else {
                      $("#ProfileForm").fadeOut(100);
                      $("#UpdateProfile").fadeOut(100);
                      $("#SystemMessage").fadeIn(50);
                      document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='Processing'></div>";
                      $.ajax({
                        url: "processor.php?mode=update-profile&action=add-session", data: $("#ProfileForm").serialize(), type: "POST", async: true, success: function (mikira) {
                          mikira = mikira.trim();
                          if (mikira == "success") {
                            $("html, body").animate({ scrollTop: "200px" }, 100);
                            $("#ProfileForm").fadeIn(100);
                            $("#UpdateProfile").fadeIn(100);
                            $("#SystemMessage").fadeIn(500);
                            $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
                            document.getElementById("SystemMessage").innerHTML = "You have successfully updated your account details.";
                          }
                          ;
                          if (mikira == "error") {
                            $("#SystemMessage").fadeIn(100);
                            document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
                            $("html, body").animate({ scrollTop: "200px" }, 800);
                          }
                          ;
                          if (mikira == "error-occured") {
                            $("#SystemMessage").fadeIn(100);
                            document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
                            $("html, body").animate({ scrollTop: "200px" }, 800);
                          }
                        }, error: function (rhina, elixander) {
                          $("#ProfileForm").fadeIn(50);
                          $("#UpdateProfile").fadeIn(100);
                          $("#SystemMessage").fadeIn(100);
                          document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
                        }
                      });
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
function UpdateAlternativeDetails() {
  var lourine = document.getElementById("alternative_email");
  var maryjoy = document.getElementById("alternative_mobile");
  var mykya = document.getElementById("gstin");
  var ellakate = document.getElementById("pan_card");
  var evellyn = document.getElementById("aadhar_card");
  var cheryle = document.getlementById("driving_licence");
  var dallton = document.getElementById("passport");
  var loreena = document.getElementById("voter_id");
  $("#AlternativeDetailsForm").fadeOut(100);
  $("#AlternativeDetails").fadeOut(100);
  $("#SystemMessage").fadeIn(50);
  document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='Processing'></div>";
  $.ajax({
    url: "processor.php?mode=update-alternative-details&action=add-session", data: $("#AlternativeDetailsForm").serialize(), type: "POST", async: true, success: function (melicent) {
      if (melicent == "success") {
        $("html, body").animate({ scrollTop: "200px" }, 100);
        $("#AlternativeDetailsForm").fadeIn(100);
        $("#AlternativeDetails").fadeIn(100);
        $("#SystemMessage").fadeIn(500);
        $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
        document.getElementById("SystemMessage").innerHTML = "You have successfully updated your account alternative details.";
      }
      ;
      if (melicent == "error") {
        $("#SystemMessage").fadeIn(100);
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
        $("html, body").animate({ scrollTop: "200px" }, 800);
      }
      ;
      if (melicent == "error-occured") {
        $("#SystemMessage").fadeIn(100);
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
        $("html, body").animate({ scrollTop: "200px" }, 800);
      }
    }, error: function (vitas, jerldine) {
      $("#AlternativeDetailsForm").fadeIn(50);
      $("#AlternativeDetails").fadeIn(100);
      $("#SystemMessage").fadeIn(100);
      document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
    }
  });
}
function UpdateSMTPDetails() {
  var bralen = document.getElementById("smtp_hostname");
  var temekia = document.getElementById("smtp_username");
  var trance = document.getElementById("smtp_password");
  var shondi = document.getElementById("smtp_port");
  if (bralen.value.trim() == "") {
    $("#SystemMessage").fadeIn(500);
    document.getElementById("SystemMessage").innerHTML = "Please enter SMTP Hostname";
    bralen.focus();
    $("html, body").animate({ scrollTop: "200px" }, 800);
    return false;
  } else {
    if (shondi.value.trim() == "") {
      $("#SystemMessage").fadeIn(500);
      document.getElementById("SystemMessage").innerHTML = "Please enter SMTP Port";
      shondi.focus();
      $("html, body").animate({ scrollTop: "200px" }, 800);
      return false;
    } else {
      if (temekia.value.trim() == "") {
        $("#SystemMessage").fadeIn(500);
        document.getElementById("SystemMessage").innerHTML = "Please enter SMTP Username";
        temekia.select();
        $("html, body").animate({ scrollTop: "200px" }, 800);
        return false;
      } else {
        if (trance.value.trim() == "") {
          $("#SystemMessage").fadeIn(500);
          document.getElementById("SystemMessage").innerHTML = "Please enter SMTP Password";
          trance.focus();
          $("html, body").animate({ scrollTop: "200px" }, 800);
          return false;
        } else {
          $("#SMTPDetailsForm").fadeOut(100);
          $("#SMTPDetails").fadeOut(100);
          $("#SystemMessage").fadeIn(50);
          document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='Processing'></div>";
          $.ajax({
            url: "processor.php?mode=update-smtp-details&action=add-session", data: $("#SMTPDetailsForm").serialize(), type: "POST", async: true, success: function (denisia) {
              if (denisia == "success") {
                $("html, body").animate({ scrollTop: "200px" }, 100);
                $("#SMTPDetailsForm").fadeIn(100);
                $("#SMTPDetails").fadeIn(100);
                $("#SystemMessage").fadeIn(500);
                $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
                document.getElementById("SystemMessage").innerHTML = "You have successfully updated smtp details.";
              }
              ;
              if (denisia == "error") {
                $("#SystemMessage").fadeIn(100);
                document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
                $("html, body").animate({ scrollTop: "200px" }, 800);
              }
              ;
              if (denisia == "error-occured") {
                $("#SystemMessage").fadeIn(100);
                document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
                $("html, body").animate({ scrollTop: "200px" }, 800);
              }
            }, error: function (candiace, jaquelline) {
              $("#SMTPDetailsForm").fadeIn(50);
              $("#SMTPDetails").fadeIn(100);
              $("#SystemMessage").fadeIn(100);
              document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
            }
          });
        }
      }
    }
  }
}
function UpdateSocialNetworkDetails() {
  var angilique = document.getElementById("facebook");
  var calvinesha = document.getElementById("twitter");
  var tonique = document.getElementById("linkedin");
  var andris = document.getElementById("googleplus");
  var isayiah = document.getElementById("pinterest");
  var mallorie = document.getElementById("youtube");
  var quatia = document.getElementById("instagram");
  $("#SocialNetworkForm").fadeOut(100);
  $("#SocialNetworkDetails").fadeOut(100);
  $("#SystemMessage").fadeIn(50);
  document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='Processing'></div>";
  $.ajax({
    url: "processor.php?mode=update-social-network&action=add-session", data: $("#SocialNetworkForm").serialize(), type: "POST", async: true, success: function (chyeanne) {
      if (chyeanne == "success") {
        $("html, body").animate({ scrollTop: "200px" }, 100);
        $("#SocialNetworkForm").fadeIn(100);
        $("#SocialNetworkDetails").fadeIn(100);
        $("#SystemMessage").fadeIn(500);
        $("#SystemMessage").removeClass("alert-danger").addClass("alert-success");
        document.getElementById("SystemMessage").innerHTML = "You have successfully updated your account social networking details.";
      }
      ;
      if (chyeanne == "error") {
        $("#SystemMessage").fadeIn(100);
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
        $("html, body").animate({ scrollTop: "200px" }, 800);
      }
      ;
      if (chyeanne == "error-occured") {
        $("#SystemMessage").fadeIn(100);
        document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
        $("html, body").animate({ scrollTop: "200px" }, 800);
      }
    }, error: function (ashston, keyania) {
      $("#SocialNetworkForm").fadeIn(50);
      $("#SocialNetworkDetails").fadeIn(100);
      $("#SystemMessage").fadeIn(100);
      document.getElementById("SystemMessage").innerHTML = "An error occurred during the process please try again.";
    }
  });
}
function DeleteRecord(albertina, domino) {
  swal({ title: "Are you sure?", text: "You will not be able to recover this details!", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, delete it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (aalijah) {
    if (aalijah) {
      $.ajax({
        url: "processor.php", data: "mode=delete&action=add-session&TableName=" + domino + "&RecordID=" + albertina, type: "POST", async: true, success: function (khary) {
          var seriya = jQuery.parseJSON(khary);
          if (seriya.status == "success") {
            // swal("Deleted!", "Record has been deleted successfully.", "success");
            swal({ title: "Deleted!", text: "Record has been deleted successfully", type: "success", timer: 1000 });
            $("#TR" + albertina).fadeOut("slow");
            $("#DeleteMessage").fadeOut("slw");
          }
        }, error: function (rosita, chontel) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function DeleteScheduledJob(rollo, nylen) {
  swal({ title: "Are you sure?", text: "You will get debited balance refunded instantly.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes", cancelButtonText: "No", closeOnConfirm: false, closeOnCancel: true }, function (kamree) {
    if (kamree) {
      swal({ title: "Please wait ...", text: "System is processing your request. Please do not close or refresh browser.", showConfirmButton: false });
      $.ajax({
        url: "processor.php", data: "mode=delete-scheduled-job&action=add-session&JobID=" + rollo + "&UsersID=" + nylen, type: "POST", async: true, success: function (iysis) {
          var kaleesia = jQuery.parseJSON(iysis);
          if (kaleesia.status == "success") {
            // swal("Success!", "SMS Job has been cancelled successfully.", "success");
            swal({ title: "Deleted!", text: "Record has been deleted successfully", type: "success", timer: 1000 });
            $("#TR" + rollo).fadeOut("slow");
          }
          ;
          if (kaleesia.status == "error") {
            swal("Error!", "Error occured during cancelled scheduled job.", "error");
          }
        }, error: function (jamiann, serapio) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function DeleteArchiveScheduledJob(maitreya, brendin, myree) {
  swal({ title: "Are you sure?", text: "You will get debited balance refunded instantly.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes", cancelButtonText: "No", closeOnConfirm: false, closeOnCancel: true }, function (marcellene) {
    if (marcellene) {
      swal({ title: "Please wait ...", text: "System is processing your request. Please do not close or refresh browser.", showConfirmButton: false });
      $.ajax({
        url: "processor.php", data: "mode=delete-archive-scheduled-job&action=add-session&JobID=" + maitreya + "&UsersID=" + brendin + "&MonthYear=" + myree, type: "POST", async: true, success: function (malakia) {
          var seanthomas = jQuery.parseJSON(malakia);
          if (seanthomas.status == "success") {
            // swal("Success!", "SMS Job has been cancelled successfully.", "success");
            swal({ title: "Deleted!", text: "Record has been deleted successfully", type: "success", timer: 1000 });
            $("#TR" + maitreya).fadeOut("slow");
          }
          ;
          if (seanthomas.status == "error") {
            swal("Error!", "Error occured during cancelled scheduled job.", "error");
          }
        }, error: function (mher, janashia) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function InactiveUser(junie, quintarious) {
  swal({ title: "Are you sure?", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes", cancelButtonText: "No", closeOnConfirm: false, closeOnCancel: true }, function (anjanae) {
    if (anjanae) {
      $.ajax({
        url: "processor.php", data: "mode=inactive-user&action=add-session&TableName=" + quintarious + "&RecordID=" + junie, type: "POST", async: true, success: function (karroll) {
          var rayola = jQuery.parseJSON(karroll);
          if (rayola.status == "success") {
            swal("Success!", "User has been inactivated successfully.", "success");
            document.getElementById("Status" + junie).innerHTML = '<span class="label label-danger">Inactive</span>';
            $("#TR" + junie).fadeOut("slow");
          }
        }, error: function (hazard, sonjay) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function ActiveUser(oaklea, aino) {
  swal({ title: "Are you sure?", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes", cancelButtonText: "No", closeOnConfirm: false, closeOnCancel: true }, function (anil) {
    if (anil) {
      $.ajax({
        url: "processor.php", data: "mode=active-user&action=add-session&TableName=" + aino + "&RecordID=" + oaklea, type: "POST", async: true, success: function (shontisha) {
          var kensei = jQuery.parseJSON(shontisha);
          if (kensei.status == "success") {
            swal("Success!", "User has been activated successfully.", "success");
            document.getElementById("Status" + oaklea).innerHTML = '<span class="label label-info">Active</span>';
            $("#TR" + oaklea).fadeOut("slow");
          }
        }, error: function (cliffton, anthia) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function ClearCache() {
  swal({ title: "Are you sure?", text: "It will be cleared all stored cache!", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, clear it", cancelButtonText: "No, cancel it", closeOnConfirm: true, closeOnCancel: true }, function (ahyoka) {
    if (ahyoka) {
      $("#ProcessingRecord").fadeIn(100);
      $.ajax({
        url: "processor.php", data: "mode=clear-cache&action=add-session", type: "POST", async: true, success: function (dystini) {
          var markies = jQuery.parseJSON(dystini);
          if (markies.status == "success") {
            setTimeout(function () {
              swal("Success!", "You have successfully cleared system cache.", "success");
              $("#SuccessID").fadeIn("slow");
              $("#ProcessingRecord").fadeOut(1);
            }, 2e3);
          }
        }, error: function (areen, maridee) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function ExportDatabase() {
  swal({ title: "Are you sure?", text: "It will create database zip file to backup folder.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, process backup", cancelButtonText: "No, cancel it", closeOnConfirm: true, closeOnCancel: true }, function (casiah) {
    if (casiah) {
      $("#ProcessingRecord").fadeIn(100);
      $.ajax({
        url: "processor.php", data: "mode=backup-process&action=add-session", type: "POST", async: true, success: function (avalin) {
          var kamill = jQuery.parseJSON(avalin);
          if (kamill.status == "success") {
            setTimeout(function () {
              swal("Success!", "You have successfully processed database backup.", "success");
              $("#SuccessID").fadeIn("slow");
              $("#ProcessingRecord").fadeOut(1);
            }, 500);
          }
        }, error: function (yosohn, shayah) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function ApproveTemplate(xaviel, treylyn) {
  swal({ title: "Are you sure?", text: "You can inactive template anytime.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, approve it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (novaley) {
    if (novaley) {
      $.ajax({
        url: "processor.php", data: "mode=approve-template&action=add-session&user_id=" + treylyn + "&RecordID=" + xaviel, type: "POST", async: true, success: function (shabab) {
          var alvontae = jQuery.parseJSON(shabab);
          if (alvontae.status == "success") {
            swal("Success!", "Template has been approved successfully.", "success");
            document.getElementById("Status" + xaviel).innerHTML = '<span class="label label-primary">' + alvontae.template_status + "</span>";
            if (alvontae.status_message == "Approved") {
              document.getElementById("Approval" + xaviel).innerHTML = '<span class="label label-primary">' + alvontae.status_message + "</span>";
            } else {
              document.getElementById("Approval" + xaviel).innerHTML = alvontae.status_message;
            }
            ;
            $("#ApproveButton" + xaviel).fadeOut(1);
            $("#InactiveButton" + xaviel).fadeIn(2e3);
          }
        }, error: function (mara, arabel) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function InactiveTemplate(devontee, rhaelynn) {
  swal({ title: "Are you sure?", text: "You can active teplate anytime.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, inactive it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (maylea) {
    if (maylea) {
      $.ajax({
        url: "processor.php", data: "mode=inactive-template&action=add-session&user_id=" + rhaelynn + "&RecordID=" + devontee, type: "POST", async: true, success: function (sharley) {
          var mannix = jQuery.parseJSON(sharley);
          if (mannix.status == "success") {
            swal("Success!", "Template has been inactivated successfully.", "success");
            document.getElementById("Status" + devontee).innerHTML = '<span class="label label-danger">' + mannix.template_status + "</span>";
            document.getElementById("Approval" + devontee).innerHTML = '<span class="label label-primary">' + mannix.status_message + "</span>";
            $("#InactiveButton" + devontee).fadeOut(1);
            $("#ApproveButton" + devontee).fadeIn(2e3);
          }
        }, error: function (arelle, deauntae) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function BlockTemplate(chaquitta, krisstina) {
  swal({ title: "Are you sure?", text: "You can active template anytime.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, block it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (tajuanna) {
    if (tajuanna) {
      $.ajax({
        url: "processor.php", data: "mode=block-template&action=add-session&user_id=" + krisstina + "&RecordID=" + chaquitta, type: "POST", async: true, success: function (bania) {
          var ahmena = jQuery.parseJSON(bania);
          if (ahmena.status == "success") {
            swal("Success!", "Template has been blocked successfully.", "success");
            document.getElementById("Status" + chaquitta).innerHTML = '<span class="label label-danger">' + ahmena.template_status + "</span>";
            document.getElementById("Approval" + chaquitta).innerHTML = '<span class="label label-primary">' + ahmena.status_message + "</span>";
          }
        }, error: function (rosangel, mikyia) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function AddGroup() {
  var tyneasha = document.getElementById("name");
  var kametria = document.getElementById("description");
  var khalial = document.getElementById("status");
  if (tyneasha.value == "") {
    show_error('Please enter group name');
    $("#name").focus();
    return false;
  } else {
    if (kametria.value == "") {
      show_error('Please enter group description');
      document.getElementById("description").focus();
      return false;
    } else {
      if (khalial.value == "") {
        show_error('Please select status');
        document.getElementById("status").focus();
        return false;
      } else {
        show_wip();
        $.ajax({
          url: "processor.php?action=add-session", data: $("#AddGroupForm").serialize(), type: "POST", async: true, success: function (dobby) {
            var westbrook = jQuery.parseJSON(dobby);
            if (westbrook.status == "success") {
              show_success('Group name added');
              setTimeout(function () {
                window.location.href = "address-book.php";
              }, 1000);
            } else {
              if (westbrook.status == "already-exist") {
                show_error('Group name already exist. Please try another name.');
              } else {
                show_error('Error occured during the process. Please try again.');
              }
            }
          }, error: function (bradee, jahnelle) {
            show_error('Error occured during the process. Please try again.');
          }
        });
      }
    }
  }
}
function EditGroup() {
  var oscardaniel = document.getElementById("name");
  var krishawna = document.getElementById("description");
  var ifenna = document.getElementById("status");
  if (oscardaniel.value == "") {
    $("#DisplayMessageID").fadeIn(100);
    document.getElementById("DisplayMessageID").innerHTML = "Please enter group name";
    $("#name").focus();
    return false;
  } else {
    if (krishawna.value == "") {
      $("#DisplayMessageID").fadeIn(100);
      document.getElementById("DisplayMessageID").innerHTML = "Please enter group description";
      document.getElementById("description").focus();
      return false;
    } else {
      if (ifenna.value == "") {
        $("#DisplayMessageID").fadeIn(100);
        document.getElementById("DisplayMessageID").innerHTML = "Please select status";
        document.getElementById("status").select();
        return false;
      } else {
        document.getElementById("ProcessingRecord").style.display = "";
        $.ajax({
          url: "processor.php?action=add-session", data: $("#EditGroupForm").serialize(), type: "POST", async: true, success: function (evelio) {
            var tavarion = jQuery.parseJSON(evelio);
            if (tavarion.status == "success") {
              document.getElementById("ProcessingRecord").style.display = "none";
              document.getElementById("UpdateRecord").style.display = "";
              setTimeout(function () {
                window.location.href = "address-book.php";
              }, 0);
            } else {
              if (tavarion.status == "already-exist") {
                document.getElementById("ProcessingRecord").style.display = "none";
                document.getElementById("AddRecord").style.display = "none";
                swal("Error", "Group name already exist. Please try another name.", "error");
              } else {
                swal("Error", "Error occured during the process. Please try again.", "error");
              }
            }
          }, error: function (humeyra, aniceta) {
            swal("Cancelled", "Error occured during the process. Please try again.", "error");
          }
        });
      }
    }
  }
}
function AddContact() {
  var anavrin = document.getElementById("name");
  var alwood = document.getElementById("mobile");
  var lamari = document.getElementById("GroupID");
  if (alwood.value.trim() == "") {
    swal("Error", "Please enter mobile number", "error");
    alwood.focus();
    return false;
  } else {
    if (alwood.value.length != 10) {
      swal("Error", "Please enter valid mobile number", "error");
      document.getElementById("mobile").focus();
      return false;
    } else {
      document.getElementById("ProcessingRecord").style.display = "";
      document.getElementById("GroupContactID").style.display = "none";
      $.ajax({
        url: "processor.php?action=add-session", data: $("#AddContactForm").serialize(), type: "POST", async: true, success: function (remonda) {
          var afa = jQuery.parseJSON(remonda);
          if (afa.status == "success") {
            document.getElementById("ProcessingRecord").style.display = "none";
            document.getElementById("AddRecord").style.display = "";
            $("#ContactDetailsID").fadeOut("slow");
            setTimeout(function () {
              window.location.href = "group-contact-details.php?GroupID=" + afa.PageGroupID;
            }, 10);
          } else {
            if (afa.status == "check-empty") {
              document.getElementById("ProcessingRecord").style.display = "none";
              document.getElementById("AddRecord").style.display = "none";
              document.getElementById("GroupContactID").style.display = "";
              swal("Error", "Please select atleast one group to proceed..", "error");
            } else {
              swal("Error", "Error occured during the process. Please try again.", "error");
              document.getElementById("ProcessingRecord").style.display = "none";
              document.getElementById("GroupContactID").style.display = "";
            }
          }
        }, error: function (tamotsu, elle) {
          swal("Cancelled", "Error occured during the process. Please try again.", "error");
          document.getElementById("ProcessingRecord").style.display = "none";
          document.getElementById("GroupContactID").style.display = "";
        }
      });
    }
  }
}
function UploadContact() {
  var amitis = document.getElementById("contact_file");
  if (amitis.value.trim() == "") {
    swal("Error", "Please select .xls file", "error");
    amitis.focus();
    return false;
  } else {
    document.getElementById("ProcessingRecord").style.display = "";
    document.getElementById("GroupContactID").style.display = "none";
    $("#ContactDetailsID").fadeOut("slow");
    document.UploadContactForm.submit();
  }
}
function UploadSenderID() {
  var birdene = document.getElementById("sender_id_file");
  if (birdene.value.trim() == "") {
    swal("Error", "Please select .xls file", "error");
    birdene.focus();
    return false;
  } else {
    document.getElementById("ProcessingRecord").style.display = "";
    document.UploadSenderIDForm.submit();
  }
}
function UploadMobileNumber() {
  var jakelyn = document.getElementById("status");
  var pheonyx = document.getElementById("mobile_number_file");
  if (jakelyn.value.trim() == "") {
    swal("Error", "Please select status", "error");
    jakelyn.focus();
    return false;
  } else {
    if (pheonyx.value.trim() == "") {
      swal("Error", "Please select .xls file", "error");
      pheonyx.focus();
      return false;
    } else {
      document.getElementById("ProcessingRecord").style.display = "";
      document.UploadMobileNumberForm.submit();
    }
  }
}
function SavePageContents(tameyka) {
  var bianeth = $("#" + tameyka + "page").val();
  if (bianeth == "") {
    swal("Error", "Please enter " + tameyka + " page contents", "error");
    return false;
  } else {
    $("html, body").animate({ scrollTop: "0px" }, 100);
    document.getElementById("ProcessingRecord").style.display = "";
    $("#CMSPageID").fadeOut("slow");
    $.ajax({
      url: "processor.php", data: "mode=UpdateCMSPage&action=add-session&PageName=" + tameyka + "&pagecontents=" + bianeth, type: "POST", async: true, success: function (timmesha) {
        var elmar = jQuery.parseJSON(timmesha);
        if (elmar.status == "success") {
          document.getElementById("ProcessingRecord").style.display = "none";
          document.getElementById("UpdatePage").style.display = "";
          $("#CMSPageID").fadeIn("slow");
        } else {
          swal("Error", "Error occured during the process. Please try again.", "error");
          document.getElementById("ProcessingRecord").style.display = "none";
        }
      }, error: function (koleigh, stephenson) {
        swal("Cancelled", "Error occured during the process. Please try again.", "error");
        document.getElementById("ProcessingRecord").style.display = "none";
      }
    });
  }
}
$(document).on("ready", function () {
  $('.switch-toggle[id="#low_balance"]').click(function () {
    if ($("#low_balance").attr("checked")) {
      UpdateUserAlert("true", "low_balance", "Yes");
    } else {
      UpdateUserAlert("false", "low_balance", "No");
    }
  });
  $('.switch-toggle[id="#credit_amount"]').click(function () {
    if ($("#credit_amount").attr("checked")) {
      UpdateUserAlert("true", "credit_amount", "Yes");
    } else {
      UpdateUserAlert("false", "credit_amount", "No");
    }
  });
  $('.switch-toggle[id="#change_password"]').click(function () {
    if ($("#change_password").attr("checked")) {
      UpdateUserAlert("true", "change_password", "Yes");
    } else {
      UpdateUserAlert("false", "change_password", "No");
    }
  });
  $('.switch-toggle[id="#sender_id_approval"]').click(function () {
    if ($("#sender_id_approval").attr("checked")) {
      UpdateUserAlert("true", "sender_id_approval", "Yes");
    } else {
      UpdateUserAlert("false", "sender_id_approval", "No");
    }
  });
  $('.switch-toggle[id="#template_approval"]').click(function () {
    if ($("#template_approval").attr("checked")) {
      UpdateUserAlert("true", "template_approval", "Yes");
    } else {
      UpdateUserAlert("false", "template_approval", "No");
    }
  });
  $('.switch-toggle[id="#login"]').click(function () {
    if ($("#login").attr("checked")) {
      UpdateUserAlert("true", "login", "Yes");
    } else {
      UpdateUserAlert("false", "login", "No");
    }
  });
  $('.switch-toggle[id="#daily_usage"]').click(function () {
    if ($("#daily_usage").attr("checked")) {
      UpdateUserAlert("true", "daily_usage", "Yes");
    } else {
      UpdateUserAlert("false", "daily_usage", "No");
    }
  });
  $('.switch-toggle[id="#login_otp"]').click(function () {
    if ($("#login_otp").attr("checked")) {
      UpdateUserAlert("true", "login_otp", "Yes");
    } else {
      UpdateUserAlert("false", "login_otp", "No");
    }
  });
  $('.switch-toggle[id="#spam_alert"]').click(function () {
    if ($("#spam_alert").attr("checked")) {
      UpdateUserAlert("true", "spam_alert", "Yes");
    } else {
      UpdateUserAlert("false", "spam_alert", "No");
    }
  });
  $('.switch-toggle[id="#job_alert"]').click(function () {
    if ($("#job_alert").attr("checked")) {
      UpdateUserAlert("true", "job_alert", "Yes");
    } else {
      UpdateUserAlert("false", "job_alert", "No");
    }
  });
  $('.switch-toggle[id="#security_question"]').click(function () {
    if ($("#security_question").attr("checked")) {
      UpdateUserAlert("true", "security_question", "Yes");
      $("#SecurityQuestions").fadeIn(1);
    } else {
      UpdateUserAlert("false", "security_question", "No");
      $("#SecurityQuestions").fadeOut(1);
    }
  });
  $('.switch-toggle[id="#api_access"]').click(function () {
    var bellasophia = document.getElementById("SettingFormUsersID").value;
    if ($("#api_access").attr("checked")) {
      UpdateUserAccess("true", "api_access", bellasophia, "Yes");
    } else {
      UpdateUserAccess("false", "api_access", bellasophia, "No");
    }
  });
  $('.switch-toggle[id="#report_block"]').click(function () {
    var tivona = document.getElementById("SettingFormUsersID").value;
    if ($("#report_block").attr("checked")) {
      UpdateUserAccess("true", "report_block", tivona, "Yes");
    } else {
      UpdateUserAccess("false", "report_block", tivona, "No");
    }
  });
  $('.switch-toggle[id="#dnd_refund"]').click(function () {
    var alusine = document.getElementById("SettingFormUsersID").value;
    if ($("#dnd_refund").prop("checked")) {
      UpdateUserAccess("true", "dnd_refund", alusine, "Yes");
      if ($("input#on_refund").prop("checked")) {
        $("input#on_refund").prop("checked", false);
        UpdateUserAccess("false", "on_refund", alusine, "No");
        $('.switch-toggle[id="#on_refund"]').trigger('click');
      }
    } else {
      UpdateUserAccess("false", "dnd_refund", alusine, "No");
    }
  });

  $('.switch-toggle[id="#on_refund"]').click(function () {
    var alusine = document.getElementById("SettingFormUsersID").value;
    if ($("#on_refund").prop("checked")) {
      UpdateUserAccess("true", "on_refund", alusine, "Yes");
      if ($("input#dnd_refund").prop("checked")) {
        $("input#dnd_refund").prop("checked", false);
        UpdateUserAccess("false", "dnd_refund", alusine, "No");
        $('.switch-toggle[id="#dnd_refund"]').trigger('click');
      }
    } else {
      UpdateUserAccess("false", "on_refund", alusine, "No");
    }
  });

  // $('.switch-toggle[id="#on_refund"]').click(function () {
  //   var eddward = document.getElementById("SettingFormUsersID").value;
  //   if ($("#on_refund").attr("checked")) {
  //     UpdateUserAccess("true", "on_refund", eddward, "Yes");
  //   } else {
  //     UpdateUserAccess("false", "on_refund", eddward, "No");
  //   }
  // });
  $('.switch-toggle[id="#template"]').click(function () {
    var camonte = document.getElementById("SettingFormUsersID").value;
    if ($("#template").attr("checked")) {
      UpdateUserAccess("true", "template", camonte, "Yes");
    } else {
      UpdateUserAccess("false", "template", camonte, "No");
    }
  });
  $('.switch-toggle[id="#restricted_template"]').click(function () {
    var saphirra = document.getElementById("SettingFormUsersID").value;
    if ($("#restricted_template").attr("checked")) {
      UpdateUserAccess("true", "restricted_template", saphirra, "Yes");
    } else {
      UpdateUserAccess("false", "restricted_template", saphirra, "No");
    }
  });
  $('.switch-toggle[id="#dynamic_sender"]').click(function () {
    var tanairi = document.getElementById("SettingFormUsersID").value;
    if ($("#dynamic_sender").attr("checked")) {
      UpdateUserAccess("true", "dynamic_sender", tanairi, "Yes");
    } else {
      UpdateUserAccess("false", "dynamic_sender", tanairi, "No");
    }
  });
  $('.switch-toggle[id="#overselling"]').click(function () {
    var shonnell = document.getElementById("SettingFormUsersID").value;
    if ($("#overselling").attr("checked")) {
      UpdateUserAccess("true", "overselling", shonnell, "Yes");
    } else {
      UpdateUserAccess("false", "overselling", shonnell, "No");
    }
  });
  $('.switch-toggle[id="#cutting"]').click(function () {
    var chrisanthony = document.getElementById("SettingFormUsersID").value;
    if ($("#cutting").attr("checked")) {
      UpdateUserAccess("true", "cutting", chrisanthony, "Yes");
      $("#CuttingDivStatus").fadeIn(1);
    } else {
      UpdateUserAccess("false", "cutting", chrisanthony, "No");
      $("#CuttingDivStatus").fadeOut(1);
    }
  });
  $('.switch-toggle[id="#apply_tree"]').click(function () {
    var sajen = document.getElementById("SettingFormUsersID").value;
    if ($("#apply_tree").attr("checked")) {
      UpdateUserAccess("true", "apply_tree", sajen, "Yes");
    } else {
      UpdateUserAccess("false", "apply_tree", sajen, "No");
    }
  });
  $('.switch-toggle[id="#text_sms"]').click(function () {
    var jorrel = document.getElementById("UserAccessFormUsersID").value;
    if ($("#text_sms").attr("checked")) {
      UpdateUserAccess("true", "text_sms", jorrel, "Yes");
    } else {
      UpdateUserAccess("false", "text_sms", jorrel, "No");
    }
  });
  $('.switch-toggle[id="#flash_sms"]').click(function () {
    var quashia = document.getElementById("UserAccessFormUsersID").value;
    if ($("#flash_sms").attr("checked")) {
      UpdateUserAccess("true", "flash_sms", quashia, "Yes");
    } else {
      UpdateUserAccess("false", "flash_sms", quashia, "No");
    }
  });
  $('.switch-toggle[id="#smart_sms"]').click(function () {
    var dillinger = document.getElementById("UserAccessFormUsersID").value;
    if ($("#smart_sms").attr("checked")) {
      UpdateUserAccess("true", "smart_sms", dillinger, "Yes");
    } else {
      UpdateUserAccess("false", "smart_sms", dillinger, "No");
    }
  });
  $('.switch-toggle[id="#unicode_sms"]').click(function () {
    var levine = document.getElementById("UserAccessFormUsersID").value;
    if ($("#unicode_sms").attr("checked")) {
      UpdateUserAccess("true", "unicode_sms", levine, "Yes");
    } else {
      UpdateUserAccess("false", "unicode_sms", levine, "No");
    }
  });
  $('.switch-toggle[id="#campaign"]').click(function () {
    var shedric = document.getElementById("UserAccessFormUsersID").value;
    if ($("#campaign").attr("checked")) {
      UpdateUserAccess("true", "campaign", shedric, "Yes");
    } else {
      UpdateUserAccess("false", "campaign", shedric, "No");
    }
  });
  $('.switch-toggle[id="#compose"]').click(function () {
    var xzayveon = document.getElementById("UserAccessFormUsersID").value;
    if ($("#compose").attr("checked")) {
      UpdateUserAccess("true", "compose", xzayveon, "Yes");
    } else {
      UpdateUserAccess("false", "compose", xzayveon, "No");
    }
  });
  $('.switch-toggle[id="#dynamic_sms"]').click(function () {
    var jenrri = document.getElementById("UserAccessFormUsersID").value;
    if ($("#dynamic_sms").attr("checked")) {
      UpdateUserAccess("true", "dynamic_sms", jenrri, "Yes");
    } else {
      UpdateUserAccess("false", "dynamic_sms", jenrri, "No");
    }
  });
  $('.switch-toggle[id="#allow_spam"]').click(function () {
    var kymbra = document.getElementById("UserAccessFormUsersID").value;
    if ($("#allow_spam").attr("checked")) {
      UpdateUserAccess("true", "allow_spam", kymbra, "Yes");
    } else {
      UpdateUserAccess("false", "allow_spam", kymbra, "No");
    }
  });
  $('.switch-toggle[id="#restricted_report"]').click(function () {
    var kathrynann = document.getElementById("UserAccessFormUsersID").value;
    if ($("#restricted_report").attr("checked")) {
      UpdateUserAccess("true", "restricted_report", kathrynann, "Yes");
    } else {
      UpdateUserAccess("false", "restricted_report", kathrynann, "No");
    }
  });
  $('.switch-toggle[id="#number_management"]').click(function () {
    var keylei = document.getElementById("UserAccessFormUsersID").value;
    if ($("#number_management").attr("checked")) {
      UpdateUserAccess("true", "number_management", keylei, "Yes");
    } else {
      UpdateUserAccess("false", "number_management", keylei, "No");
    }
  });
  $('.switch-toggle[id="#allow_smpp"]').click(function () {
    var zyaan = document.getElementById("UserAccessFormUsersID").value;
    if ($("#allow_smpp").attr("checked")) {
      UpdateUserAccess("true", "allow_smpp", zyaan, "Yes");
      $("#SMPPDivStatus").fadeIn(1);
    } else {
      UpdateUserAccess("false", "allow_smpp", zyaan, "No");
      $("#SMPPDivStatus").fadeOut(1);
    }
  });
  $('.switch-toggle[id="#rcs_msg"]').click(function () {
    var box = $(this).prev("input").get(0);
    var kaitlin = document.getElementById("UserAccessFormUsersID").value;
    var on = "No";
    var flag = "false";
    if (box.checked) {
      on = "Yes";
      flag = "true";
    }
    UpdateUserAccess(flag, box.id, kaitlin, on);
  });
});
function CuttingAccess() {
  if (document.getElementById("cutting").checked) {
    $("#CuttingDivStatus").fadeIn(1);
  } else {
    $("#CuttingDivStatus").fadeOut(1);
  }
}
function ScheduleSMS() {
  if (document.getElementById("schedule_sms").checked) {
    $("#ScheduleSMSDiv").fadeIn(1);
  } else {
    $("#ScheduleSMSDiv").fadeOut(1);
  }
}
function GetRouteDetails(routeID) {
  if (window.TotalSMSData && routeID in window.TotalSMSData) {
    var totalSmsForSelectedRoute = window.TotalSMSData[routeID];
    // console.log(totalSmsForSelectedRoute);
    if ($("#totalsms").length) {
      $("#totalsms").val(totalSmsForSelectedRoute);
    } else {
      $("#userRoutes").append('<input type="hidden" id="totalsms" name="totalsmsbalance" value="' + totalSmsForSelectedRoute + '">');
    }
  }
  $.ajax({
    url: "processor.php", data: "mode=get-route-type-details&action=add-session&RouteTypeID=" + routeID, type: "POST", async: true, success: function (laurentino) {
      var cashawn = jQuery.parseJSON(laurentino);
      console.log(cashawn);

      if (cashawn.status == "success") {
        if (cashawn.sender_id_status == "ON") {
          $("#SenderIDDisplay").fadeIn(1);
          getUserSenderData();
        } else {
          $("#SenderIDDisplay").fadeOut(1);
        }
      };
      if (cashawn.status == "error") {
        $("#SenderIDDisplay").fadeOut(1);
        $("#sender_id").prop("selectedIndex", 0);
        $("#sender_id").selectpicker("refresh");
        swal("Error!", "Error occured during the process. Kindly try again.", "error");
      }
    }, error: function (rodney, delcan) {
      $("#SenderIDDisplay").fadeOut(1);
      $("#sender_id").prop("selectedIndex", 0);
      $("#sender_id").selectpicker("refresh");
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function UpdateUserAlert(tampa, carneisha, gerrin) {
  if (carneisha == "default_sender_id") {
    var gerrin = tampa.value;
  }
  ;
  if (carneisha == "default_route_id") {
    var gerrin = tampa.value;
  }
  ;
  if (carneisha == "low_balance_limit") {
    if (tampa.value.match(/^\d+/)) {
      var gerrin = tampa.value;
    } else {
      var gerrin = "";
    }
  }
  ;
  if (carneisha == "job_alert_limit") {
    if (tampa.value.match(/^\d+/)) {
      var gerrin = tampa.value;
    } else {
      var gerrin = "";
    }
  }
  ;
  if (carneisha == "question1") {
    var gerrin = tampa.value;
  }
  ;
  if (carneisha == "answer1") {
    var gerrin = tampa.value;
  }
  ;
  if (carneisha == "question2") {
    var gerrin = tampa.value;
  }
  ;
  if (carneisha == "answer2") {
    var gerrin = tampa.value;
  }
  ;
  if (carneisha == "question3") {
    var gerrin = tampa.value;
  }
  ;
  if (carneisha == "answer3") {
    var gerrin = tampa.value;
  }
  ;
  $.ajax({
    url: "processor.php", data: "mode=UpdateAlert&action=add-session&FieldName=" + carneisha + "&CheckedValue=" + gerrin, type: "POST", async: true, success: function (eiley) {
      var duska = jQuery.parseJSON(eiley);
      if (duska.status == "success") { } else {
        if (duska.status == "error") {
          swal("Error", "Please select valid numeric number.", "error");
        } else {
          swal("Error", "Error occured during the process. Please try again.", "error");
        }
      }
    }, error: function (braxstyn, lilyan) {
      swal("Cancelled", "Error occured during the process. Please try again.", "error");
    }
  });
}
function UpdateUserAccess(macaire, annadell, ridger, orange) {
  if (["gateway_family_id", "region_id", "cutoff_status_id", "cutting_throughput", "cutting_min_value", "sms_limit"].includes(annadell)) {
    orange = macaire.value;
  }
  let shouldResetForm = false;
  if (annadell === "gateway_family_id") {
    shouldResetForm = true;
  }
  if (["apply_tree", "apply_tree_cutting"].includes(annadell)) {
    swal({
      title: "Please wait ...",
      text: "System is processing your request. Please do not close or refresh the browser.",
      showConfirmButton: false
    });
  }

  $.ajax({
    url: "processor.php",
    data: {
      mode: "UpdateUserSetting",
      action: "add-session",
      FieldName: annadell,
      CheckedValue: orange,
      UsersID: ridger
    },
    type: "POST",
    async: true,
    success: function (johnnae) {
      var shatara = jQuery.parseJSON(johnnae);
      if (shatara.status === "success") {
        if (!shouldResetForm) {
          document.getElementById("SettingForm").reset();
        }

        if (annadell == "apply_tree") {
          swal("Success", "You have successfully applied changes.", "success");
        }
        if (annadell == "apply_tree_cutting") {
          swal("Success", "You have successfully applied changes.", "success");
        }

        console.log("Success", "You have successfully applied changes.", "success");
      } else {
        console.log("Error", "An error occurred during the process. Please try again.", "error");
      }
    },
    error: function () {
      console.log("Cancelled", "An error occurred during the process. Please try again.", "error");
    }
  });
}

function UpdateUserRouteCutting(morgyn, valo, tyheem) {
  var kishina = document.getElementById("cutting" + morgyn).value.trim();
  var tiasia = document.getElementById("cutoff_status_id" + morgyn).value.trim();
  var lasheka = document.getElementById("cutting_throughput" + morgyn).value.trim();
  var jetlyn = document.getElementById("cutting_min_value" + morgyn).value.trim();
  if (kishina == "Yes") {
    if (tiasia == "") {
      swal("Error", "Please select cutting status for route: " + valo, "error");
      tiasia.focus();
      return false;
    }
    ;
    if (lasheka == "") {
      swal("Error", "Please select cutting throughput for route: " + valo, "error");
      lasheka.focus();
      return false;
    }
    ;
    if (jetlyn == "") {
      swal("Error", "Please select cutting min value for route: " + valo, "error");
      jetlyn.focus();
      return false;
    }
    ;
    if (isNaN(jetlyn)) {
      swal("Error", "Please select numeric cutting min value for route: " + valo, "error");
      jetlyn.focus();
      return false;
    }
  }
  ;
  if (kishina == "") {
    swal("Error", "Please cutting for route: " + valo, "error");
    kishina.focus();
    return false;
  } else {
    $.ajax({
      url: "processor.php", data: "mode=UpdateUserRouteCutting&action=add-session&UsersRouteTypeID=" + morgyn + "&UsersID=" + tyheem + "&cutting=" + kishina + "&cutoff_status_id=" + tiasia + "&cutting_throughput=" + lasheka + "&cutting_min_value=" + jetlyn, type: "POST", async: true, success: function (lashika) {
        var rmon = jQuery.parseJSON(lashika);
        if (rmon.status == "success") {
          swal("Success", "You have successfully applied cutting for " + valo + " route.", "success");
        } else {
          swal("Error!", "Error occured during the process. Please try again.", "error");
        }
      }, error: function (soroosh, fedel) {
        swal("Error!", "Error occured during the process. Please try again.", "error");
      }
    });
  }
}

function UpdateUserApiCutting(morgyn, valo, tyheem) {
  var kishina = document.getElementById("api_cutting" + morgyn).value.trim();
  var tiasia = document.getElementById("api_cutoff_status_id" + morgyn).value.trim();
  var lasheka = document.getElementById("api_cutting_throughput" + morgyn).value.trim();
  if (kishina == "Yes") {
    if (tiasia == "") {
      swal("Error", "Please select cutting status for route: " + valo, "error");
      tiasia.focus();
      return false;
    };
    if (lasheka == "") {
      swal("Error", "Please select cutting throughput for route: " + valo, "error");
      lasheka.focus();
      return false;
    };
  };
  if (kishina == "") {
    swal("Error", "Please cutting for route: " + valo, "error");
    kishina.focus();
    return false;
  } else {
    $.ajax({
      url: "processor.php", data: "mode=UpdateUserApiCutting&action=add-session&UsersRouteTypeID=" + morgyn + "&UsersID=" + tyheem + "&cutting=" + kishina + "&cutoff_status_id=" + tiasia + "&cutting_throughput=" + lasheka, type: "POST", async: true, success: function (lashika) {
        var rmon = jQuery.parseJSON(lashika);
        if (rmon.status == "success") {
          swal("Success", "You have successfully applied cutting for " + valo + " route.", "success");
        } else {
          swal("Error!", "Error occured during the process. Please try again.", "error");
        }
      }, error: function (soroosh, fedel) {
        swal("Error!", "Error occured during the process. Please try again.", "error");
      }
    });
  }
}

function ApproveSenderID(cashaun, aysha) {
  swal({ title: "Are you sure?", text: "You can inactive sender id anytime.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, approve it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (zakori) {
    if (zakori) {
      $.ajax({
        url: "processor.php", data: "mode=approve-sender-id&action=add-session&user_id=" + aysha + "&RecordID=" + cashaun, type: "POST", async: true, success: function (kiaira) {
          var termaine = jQuery.parseJSON(kiaira);
          if (termaine.status == "success") {
            swal("Success!", "Sender ID has been approved successfully.", "success");
            document.getElementById("Status" + cashaun).innerHTML = '<span class="label label-primary">' + termaine.template_status + "</span>";
            if (termaine.status_message == "Approved") {
              document.getElementById("Approval" + cashaun).innerHTML = '<span class="label label-primary">' + termaine.status_message + "</span>";
            } else {
              document.getElementById("Approval" + cashaun).innerHTML = termaine.status_message;
            }
            ;
            $("#SenderIDApprovalID" + cashaun).fadeOut(1);
          }
        }, error: function (jamarus, ammelia) {
          swal("Error!", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function InactiveSenderID(maudean, annanicole) {
  swal({ title: "Are you sure?", text: "You can active sender id anytime.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, inactive it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (sharella) {
    if (sharella) {
      $.ajax({
        url: "processor.php", data: "mode=inactive-sender-id&action=add-session&user_id=" + annanicole + "&RecordID=" + maudean, type: "POST", async: true, success: function (sanuel) {
          var aaleiyah = jQuery.parseJSON(sanuel);
          if (aaleiyah.status == "success") {
            swal("Success!", "Sender ID has been inactivated successfully.", "success");
            document.getElementById("Status" + maudean).innerHTML = '<span class="label label-danger">' + aaleiyah.template_status + "</span>";
            document.getElementById("Approval" + maudean).innerHTML = '<span class="label label-primary">' + aaleiyah.status_message + "</span>";
            $("#InactiveButton" + maudean).fadeOut(1);
            $("#SenderIDInactiveID" + maudean).fadeOut(1);
            $("#ApproveButton" + maudean).fadeIn(2e3);
          }
        }, error: function (chyles, jacquil) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function BlockSenderID(damonii, marzena) {
  swal({ title: "Are you sure?", text: "You can active sender id anytime.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, block it", cancelButtonText: "No, cancel it", closeOnConfirm: false, closeOnCancel: true }, function (coyle) {
    if (coyle) {
      $.ajax({
        url: "processor.php", data: "mode=block-sender-id&action=add-session&user_id=" + marzena + "&RecordID=" + damonii, type: "POST", async: true, success: function (taimani) {
          var kimyatta = jQuery.parseJSON(taimani);
          if (kimyatta.status == "success") {
            swal("Success!", "Sender ID has been blocked successfully.", "success");
            document.getElementById("Status" + damonii).innerHTML = '<span class="label label-danger">' + kimyatta.template_status + "</span>";
            document.getElementById("Approval" + damonii).innerHTML = '<span class="label label-primary">' + kimyatta.status_message + "</span>";
          }
        }, error: function (erville, javarus) {
          swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
        }
      });
    }
  });
}
function UsersSenderReport(mitzie) {
  window.location.href = "view-users-sender-id-report.php?UsersID=" + mitzie;
}
function UsersCampaignReport(myrtus) {
  window.location.href = "view-users-campaign-report.php?UsersID=" + myrtus;
}
function GetUsersSenderID(tano) {
  $.ajax({
    url: "processor.php", data: "mode=get-users-sender-id&action=add-session&user_id=" + tano, type: "POST", async: true, success: function (christine) {
      var lolitha = jQuery.parseJSON(christine);
      if (lolitha.status == "success") {
        document.getElementById("SenderIDList").innerHTML = lolitha.senderid;
      }
    }, error: function (antwanette, rodnisha) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function GetUsersDraftMessage(tephanie) {
  $.ajax({
    url: "processor.php", data: "mode=get-users-draft-message&action=add-session&DraftID=" + tephanie, type: "POST", async: true, success: function (owan) {
      var nazirah = jQuery.parseJSON(owan);
      if (nazirah.status == "success") {
        $("[name=sms_message]").val(nazirah.draft_message);
        document.getElementById("char-counter").focus();
        $("[name=templateid]").val(nazirah.draft_template_id);
        $("[name=message_type]").val(nazirah.draft_message_type);
      }
      ;
      if (nazirah.status == "blank") {
        $("[name=message_type]").val("Text");
        $("[name=sms_message]").val("");
        $("[name=templateid]").val("");
      }
      ;
      if (nazirah.status == "error") {
        swal("Error!", "Error occured during the process. Kindly try again.", "error");
      }
      $("[name=sms_message]").trigger('blur');
    }, error: function (alizaya, fantaysia) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function GetUsersTemplateMessage(talasha) {
  $.ajax({
    url: "processor.php", data: "mode=get-users-template-message&action=add-session&TemplateID=" + encodeURIComponent(talasha), type: "POST", async: true, success: function (shaylan) {
      var marlynda = jQuery.parseJSON(shaylan);
      if (marlynda.status == "success") {
        $("[name=sms_message]").val(marlynda.template_message);
        var nerik;
        var genesiss = "";
        var christna = marlynda.ExpressionValueCount + 1;
        for (nerik = 1; nerik < christna; nerik++) {
          genesiss = genesiss + '<div class="col-sm-3 MLM10"><input class="form-control required" id="expression_value_' + nerik + '" name="expression_value_' + nerik + '" type="text" placeholder="Value" title="Value"></div>';
        }
        ;
        $("#ExpressionValueDiv").fadeIn(0);
        document.getElementById("ExpressionValueID").innerHTML = genesiss;
        document.getElementById("tempid").value = marlynda.tempid;
        $("[name=message_type]").val(marlynda.message_type);
      }
      ;
      if (marlynda.status == "blank") {
        $("[name=message_type]").val("Text");
        $("[name=sms_message]").val("");
        $("#ExpressionValueDiv").fadeOut(0);
        document.getElementById("ExpressionValueID").innerHTML = "";
        document.getElementById("ExpressionValueTitle").innerHTML = "";
      }
      ;
      if (marlynda.status == "error") {
        swal("Error!", "Error occured during the process. Kindly try again.", "error");
      }
      $("[name=sms_message]").trigger('blur');
    }, error: function (jkwon, darshelle) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function InsertPlaceHolder(shaquisha) {
  if (shaquisha != "") {
    var shaquisha = "{" + shaquisha + "}";
    var ilva = $("textarea#char-counter");
    var takiea = $("textarea#char-counter").prop("selectionStart");
    var dailin = $("textarea#char-counter").val();
    var munib = dailin.substring(0, takiea);
    var mahdia = dailin.substring(takiea, dailin.length);
    $("textarea#char-counter").val(munib + shaquisha + mahdia);
  }
  ;
  $("#placeholder").prop("selectedIndex", 0);
  $("#placeholder").selectpicker("refresh");
}
function InsertExpressionValue(trigo) {
  if (trigo != "") {
    var trigo = "{" + trigo + "}";
    var wolfe = $("textarea#message");
    var el = wolfe.get(0);
    var txt = el.value;
    el.value = txt.substring(0, el.selectionStart) + trigo + txt.substring(el.selectionEnd);
  }
  ;
  $("#expression-value").prop("selectedIndex", 0);
}
function GetUsersRouteType(jahvel) {
  $("#DisplayMessageID").fadeIn(0);
  document.getElementById("DisplayMessageID").innerHTML = "Processing your request ...";
  $.ajax({
    url: "processor.php", data: "mode=get-users-route-type&action=add-session&user_id=" + jahvel, type: "POST", async: true, success: function (eibhleann) {
      var chanze = jQuery.parseJSON(eibhleann);
      if (chanze.status == "success") {
        document.getElementById("RouteTypeList").innerHTML = chanze.route_type_list;
        $("#DisplayMessageID").fadeIn(0);
        document.getElementById("DisplayMessageID").innerHTML = "Successfully loaded selected users route types";
      }
    }, error: function (anaili, fredonia) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function GetUsersLastTransactionByRoute(denotra, ladi) {
  $.ajax({
    url: "processor.php", data: "mode=get-users-last-transaction&action=add-session&UsersID=" + ladi + "&RouteTypeID=" + denotra, type: "POST", async: true, success: function (kinlynn) {
      var tahjmir = jQuery.parseJSON(kinlynn);
      if (tahjmir.status == "success") {
        document.getElementById("balance_sms_qty").value = tahjmir.TotalBalanceSMS;
        document.getElementById("prev_sms_qty").value = tahjmir.SMSQty;
      }
    }, error: function (deondre, asten) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function RouteValidityUpdate(lanequa) {
  if (lanequa == "Validity") {
    $("#sms_qty").attr("disabled", true);
    $("#amount").attr("disabled", true);
    $("#remark").attr("disabled", true);
  } else {
    $("#sms_qty").attr("disabled", false);
    $("#amount").attr("disabled", false);
    $("#remark").attr("disabled", false);
  }
}
function CrDbAmountUpdate() {
  var liiban = $("#amount").val();
  if (liiban == "") {
    document.getElementById("total_amount").value = "";
  } else {
    if (isNaN(liiban)) {
      document.getElementById("total_amount").value = "";
    } else {
      GetTotalGSTAmount();
    }
  }
}
function GetTotalGSTAmount() {
  var eutha = $("#amount").val();
  if (eutha == "") {
    swal("Error!", "Please enter valid amount.", "error");
    document.getElementById("total_amount").value = "";
  } else {
    var yarisel = $("#gst_type_id").val();
    var qty = $("#sms_qty").val();
    $.ajax({
      url: "processor.php", data: "mode=get-total-amount-transaction&action=add-session&sms-qty=" + qty + "&Amount=" + eutha + "&GSTTypeID=" + yarisel, type: "POST", async: true, success: function (roberick) {
        var elayla = jQuery.parseJSON(roberick);
        if (elayla.status == "success") {
          document.getElementById("total_amount").value = elayla.TotalAmount;
        }
      }, error: function (shalonda, wynston) {
        swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
      }
    });
  }
}
function CheckUsersInvoiceNo(ajani, gaylynne) {
  $.ajax({
    url: "processor.php", data: "mode=check-users-invoice-no&action=add-session&InvoiceNo=" + ajani + "&UsersID=" + gaylynne, type: "POST", async: true, success: function (kewania) {
      var akeiya = jQuery.parseJSON(kewania);
      if (akeiya.status == "success") {
        if (akeiya.InvoiceNum > 0) {
          swal("Error!", "Invoice no: " + ajani + " is already exist. New invoice no: " + akeiya.InvoiceNo, "error");
          document.getElementById("invoice_no").value = akeiya.InvoiceNo;
        }
      }
    }, error: function (rope, adalade) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function GetUsersSMSBalanceByRoute(meuy, malieya) {
  $.ajax({
    url: "processor.php", data: "mode=get-users-sms-balance&action=add-session&UsersID=" + malieya + "&RouteTypeID=" + meuy, type: "POST", async: true, success: function (tajh) {
      var aparajita = jQuery.parseJSON(tajh);
      if (aparajita.status == "success") {
        document.getElementById("balance_sms_qty").value = aparajita.TotalBalanceSMS;
      }
    }, error: function (yoni, mkai) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function GetUsersPreviousSMSCreditedByRouteANDType(volker, bentleigh, breanah) {
  $.ajax({
    url: "processor.php", data: "mode=get-users-previous-credited&action=add-session&RouteTypeID=" + volker + "&TransactionType=Credit&UsersID=" + breanah, type: "POST", async: true, success: function (davion) {
      var erneshia = jQuery.parseJSON(davion);
      if (erneshia.status == "success") {
        document.getElementById("prev_sms_qty").value = erneshia.sms_qty;
      }
    }, error: function (marlicia, erini) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function SubmitForgotPassword() {
  var jaskirat = document.getElementById("forgot_email");
  if (jaskirat.value.trim() == "") {
    jaskirat.style.borderColor = "#FE847B";
    $("#message-forgot").fadeIn(100);
    document.getElementById("message-forgot").innerHTML = "Please enter an email address";
    jaskirat.select();
    return false;
  } else {
    if (!validateEmail(jaskirat.value)) {
      jaskirat.style.borderColor = "#000000";
      $("#message-forgot").fadeIn(100);
      document.getElementById("message-forgot").innerHTML = "Please enter valid email address";
      jaskirat.select();
      return false;
    } else {
      jaskirat.style.borderColor = "#C9C9C9";
      $("#message-forgot").fadeIn(100);
      document.getElementById("message-forgot").innerHTML = "Processing ... <img src=images/loader.gif align=absmiddle />";
      $("#ForgotPasswordForm").fadeIn(50);
      $.ajax({
        url: "forgot-password-process.php", data: $("#ForgotPasswordForm").serialize(), type: "POST", async: true, success: function (carinna) {
          if (carinna == "success") {
            $("#message-forgot").fadeIn(50);
            document.getElementById("message-forgot").innerHTML = "We have successfully sent an email with your login details. Please checkout your email inbox.";
            jaskirat.value = "";
            $("#ForgotPasswordForm").fadeOut(100);
          } else {
            if (carinna == "error") {
              $("#ForgotPasswordForm").fadeIn(50);
              jaskirat.select();
              $("#message-forgot").fadeIn(100);
              document.getElementById("message-forgot").innerHTML = "Email address couldn't found. Please enter valid account email address";
            } else {
              if (carinna == "error-occured") {
                $("#ForgotPasswordForm").fadeIn(50);
                jaskirat.select();
                $("#message-forgot").fadeIn(100);
                document.getElementById("message-forgot").innerHTML = "An error occurred during the process please try again.";
              }
            }
          }
        }
      });
    }
  }
}
function SubmitRegister() {
  var granvel = document.getElementById("reg_email");
  var derico = document.getElementById("reg_password");
  var angeldavid = document.getElementById("reg_firstname");
  var taishon = document.getElementById("reg_lastname");
  var zarri = document.getElementById("reg_address");
  var oluchi = document.getElementById("reg_city");
  var russchelle = document.getElementById("reg_state");
  var nahili = document.getElementById("reg_country");
  var wolf = document.getElementById("reg_phone");
  var nidra = document.getElementById("reg_mobile");
  if (granvel.value.trim() == "") {
    granvel.style.borderColor = "#FE847B";
    $("#message-register").fadeIn(500);
    document.getElementById("message-register").innerHTML = "Please enter an email address";
    granvel.select();
    $("html, body").animate({ scrollTop: "400px" }, 800);
    return false;
  } else {
    if (!validateEmail(granvel.value.trim())) {
      granvel.style.borderColor = "#000000";
      $("#message-register").fadeIn(500);
      document.getElementById("message-register").innerHTML = "Please enter a valid email address";
      granvel.select();
      $("html, body").animate({ scrollTop: "400px" }, 800);
      return false;
    } else {
      if (derico.value.trim() == "") {
        derico.style.borderColor = "#FE847B";
        $("#message-register").fadeIn(500);
        document.getElementById("message-register").innerHTML = "Please enter a password";
        derico.focus();
        $("html, body").animate({ scrollTop: "400px" }, 800);
        return false;
      } else {
        if (angeldavid.vlue.trim() == "") {
          angeldavid.style.borderColor = "#FE847B";
          $("#message-register").fadeIn(500);
          document.getElementById("message-register").innerHTML = "Please enter your first name";
          angeldavid.focus();
          $("html, body").animate({ scrollTop: "400px" }, 800);
          return false;
        } else {
          if (taishon.value.trim() == "") {
            taishon.style.borderColor = "#FE847B";
            $("#message-register").fadeIn(500);
            document.getElementById("message-register").innerHTML = "Please enter your last name";
            taishon.focus();
            $("html, body").animate({ scrollTop: "400px" }, 800);
            return false;
          } else {
            if (zarri.value.trim() == "") {
              zarri.style.borderColor = "#FE847B";
              $("#message-register").fadeIn(500);
              document.getElementById("message-register").innerHTML = "Please enter your address";
              zarri.focus();
              $("html, body").animate({ scrollTop: "400px" }, 800);
              return false;
            } else {
              if (oluchi.value.trim() == "") {
                oluchi.style.borderColor = "#FE847B";
                $("#message-register").fadeIn(500);
                document.getElementById("message-register").innerHTML = "Please enter your city";
                oluchi.focus();
                $("html, body").animate({ scrollTop: "400px" }, 800);
                return false;
              } else {
                if (russchelle.value.trim() == "") {
                  russchelle.style.borderColor = "#FE847B";
                  $("#message-register").fadeIn(500);
                  document.getElementById("message-register").innerHTML = "Please enter your state";
                  russchelle.focus();
                  $("html, body").animate({ scrollTop: "400px" }, 800);
                  return false;
                } else {
                  if (nahili.value.trim() == "") {
                    nahili.style.borderColor = "#FE847B";
                    $("#message-register").fadeIn(500);
                    document.getElementById("message-register").innerHTML = "Please enter your country";
                    nahili.focus();
                    $("html, body").animate({ scrollTop: "400px" }, 800);
                    return false;
                  } else {
                    if (reg_zipcode.value.trim() == "") {
                      reg_zipcode.style.borderColor = "#FE847B";
                      $("#message-register").fadeIn(500);
                      document.getElementById("message-register").innerHTML = "Please enter your zipcode";
                      reg_zipcode.focus();
                      $("html, body").animate({ scrollTop: "400px" }, 800);
                      return false;
                    } else {
                      if (wolf.value.trim() == "") {
                        wolf.style.borderColor = "#FE847B";
                        $("#message-register").fadeIn(500);
                        document.getElementById("message-register").innerHTML = "Please enter your phone";
                        wolf.focus();
                        $("html, body").animate({ scrollTop: "400px" }, 800);
                        return false;
                      } else {
                        if (nidra.value.trim() == "") {
                          nidra.style.borderColor = "#FE847B";
                          $("#message-register").fadeIn(500);
                          document.getElementById("message-register").innerHTML = "Please enter your mobile";
                          nidra.focus();
                          $("html, body").animate({ scrollTop: "400px" }, 800);
                          return false;
                        } else {
                          $("#message-register").fadeIn(50);
                          document.getElementById("message-register").innerHTML = "Processing ... <img src=images/loader.gif align=absmiddle />";
                          $("#RegisterForm").fadeOut(100);
                          $.ajax({
                            url: "registration-process.php", data: $("#RegisterForm").serialize(), type: "POST", async: true, success: function (yeyson) {
                              if (yeyson == "success") {
                                $("#RegisterForm").fadeOut(100);
                                $("#message-register").fadeIn(100);
                                document.getElementById("message-register").innerHTML = "You have successfully registered with us.<br><br>We have sent you an email with confirmation link to activate you account.<br><br>Please checkout your email inbox.";
                                $("html, body").animate({ scrollTop: "400px" }, 800);
                              }
                              ;
                              if (yeyson == "error-email-already-exist") {
                                $("#RegisterForm").fadeIn(100);
                                $("#message-register").fadeIn(100);
                                document.getElementById("message-register").innerHTML = "Email address already exist. Please try another email address.";
                                granvel.select();
                                $("html, body").animate({ scrollTop: "400px" }, 800);
                              }
                              ;
                              if (yeyson == "error-occured") {
                                $("#RegisterForm").fadeIn(100);
                                $("#message-register").fadeIn(100);
                                document.getElementById("message-register").innerHTML = "An error occurred during the process please try again.";
                                $("html, body").animate({ scrollTop: "400px" }, 800);
                              }
                            }
                          });
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
function SubscribeEmail() {
  var salmai = document.getElementById("emailid");
  if (!validateEmail(salmai.value)) {
    salmai.style.borderColor = "#FE847B";
    $("#message-error").fadeIn(500);
    salmai.select();
    return false;
  } else {
    $("#message-error").fadeIn(50);
    document.getElementById("message-error").innerHTML = "Processing ... <img src=images/loader.gif align=absmiddle />";
    $.ajax({
      url: "email-subscription.php", data: $("#SubscriptionForm").serialize(), type: "POST", async: true, success: function (lilyah) {
        if (lilyah == "success") {
          $("#message-error").fadeOut(50);
          $("#SubscriptionForm").fadeOut(100);
          $("#message-news").fadeIn(50);
          salmai.value = "";
        }
      }
    });
  }
}
function SubmitContactInquiry() {
  var burkley = document.getElementById("contact_name");
  var erum = document.getElementById("contact_email");
  var olvia = document.getElementById("contact_phone");
  var zakara = document.getElementById("contact_subject");
  var gea = document.getElementById("contact_message");
  var dacarri = document.getElementById("contact_captcha");
  if (burkley.value.trim() == "") {
    burkley.style.borderColor = "#FE847B";
    $("#message-contact-error").fadeIn(500);
    $("#message-contact-error-occured").fadeOut(100);
    burkley.select();
    return false;
  }
  ;
  if (erum.value.trim() == "") {
    erum.style.borderColor = "#FE847B";
    $("#message-contact-error").fadeIn(500);
    $("#message-contact-error-occured").fadeOut(100);
    erum.select();
    return false;
  } else {
    if (!validateEmail(erum.value)) {
      erum.style.borderColor = "#000000";
      $("#message-contact-error").fadeIn(500);
      $("#message-contact-error-occured").fadeOut(100);
      erum.select();
      return false;
    } else {
      if (olvia.value.trim() == "") {
        olvia.style.borderColor = "#FE847B";
        $("#message-contact-error").fadeIn(100);
        $("#message-contact-error-occured").fadeOut(100);
        olvia.select();
        return false;
      } else {
        if (zakara.value.trim() == "") {
          zakara.style.borderColor = "#FE847B";
          $("#message-contact-error").fadeIn(100);
          $("#message-contact-error-occured").fadeOut(100);
          zakara.select();
          return false;
        } else {
          if (gea.value.trim() == "") {
            gea.style.borderColor = "#FE847B";
            $("#message-contact-error").fadeIn(100);
            $("#message-contact-error-occured").fadeOut(100);
            gea.select();
            return false;
          } else {
            if (dacarri.value.trim() == "") {
              dacarri.style.borderColor = "#FE847B";
              $("#message-contact-error").fadeIn(100);
              $("#message-contact-error-occured").fadeOut(100);
              dacarri.select();
              return false;
            } else {
              $("#message-contact-error").fadeIn(50);
              document.getElementById("message-contact-error").innerHTML = "Processing ... <img src=images/loader.gif align=absmiddle />";
              $("#ContactForm").fadeOut(50);
              $.ajax({
                url: "contact-inquiry.php", data: $("#ContactForm").serialize(), type: "POST", async: true, success: function (adylina) {
                  if (adylina == "success") {
                    burkley.value = "";
                    erum.value = "";
                    olvia.value = "";
                    zakara.value = "";
                    gea.value = "";
                    $("#message-contact-error").fadeOut(50);
                    $("#ContactForm").fadeOut(50);
                    $("#message-contact-success").fadeIn(50);
                    $("#message-contact-error-occured").fadeOut(50);
                  }
                  ;
                  if (adylina == "error") {
                    $("#ContactForm").fadeIn(50);
                    $("#message-contact-error").fadeOut(50);
                    $("#message-contact-success").fadeOut(50);
                    $("#message-contact-error-occured").fadeIn(50);
                  }
                  ;
                  if (adylina == "error-code") {
                    $("#ContactForm").fadeIn(50);
                    $("#message-contact-error").fadeOut(50);
                    $("#message-contact-success").fadeOut(50);
                    document.getElementById("message-contact-error-occured").innerHTML = "Captcha code was wrong. Please try again.";
                    $("#message-contact-error-occured").fadeIn(50);
                  }
                }
              });
            }
          }
        }
      }
    }
  }
}
function UsersSenderIDForm() {
  var nasly = document.querySelector("#SenderIDForm [name=users_senderid]");
  var natea = document.querySelector("#SenderIDForm [name=entity_id]");
  if (nasly.value.trim() == "") {
    nasly.focus();
    return false;
  }
  if (natea.value.trim() == "") {
    natea.focus();
    return false;
  }
  $("#SystemMessage").fadeIn(100);
  $("#SenderIDForm").fadeOut(100);
  document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='Processing'></div>";
  $.ajax({
    url: "processor.php?mode=add-user-sender-id&action=add-session", data: $("#SenderIDForm").serialize(), type: "POST", async: true, success: function (anjana) {
      var breylee = jQuery.parseJSON(anjana);
      $("#SystemMessage").fadeOut(500);
      $("#SenderIDForm").fadeIn(100);
      if (breylee.status == "success") {
        $(breylee.TableRow).appendTo($("#UsersSenderID tbody"));
        nasly.value = "";
        natea.value = "";
        swal("Success!", "You have successfully added sender id", "success");
      }
      if (breylee.status == "exist") {
        swal("Error!", "Sender ID already exist.", "error");
      }
      if (breylee.status == "error") {
        swal("Error!", "An error occurred during the process please try again.", "error");
      }
    }, error: function (deisel, tekulve) {
      $("#SystemMessage").fadeOut(100);
      $("#SenderIDForm").fadeIn(100);
      swal("Error!", "An error occurred during the process please try again.", "error");
    }
  });
}
function EditUsersSenderID(rayneisha, fouad, nikolett, bittany) {
  $("#AddUsersSenderID").fadeOut(0);
  $("#EditUsersSenderID").fadeIn(0);
  document.getElementById("userssenderid").value = fouad;
  document.getElementById("usersrelation").value = nikolett;
  document.getElementById("userscontains").value = bittany;
  document.getElementById("RecordID").value = rayneisha;
  document.getElementById("OldSenderID").value = fouad;
}
function ShowMobileNumbers() {
  document.getElementById("MessageFormatTitle").innerHTML = "Numbers";
  $("#id_mobile_numbers").fadeIn(0);
  $('#UniqueNumberCount, #TotalNumberCount').text(0);
  $('#id_description_number').fadeIn(0);
  $('#id_description_upload').fadeOut(0);
  $("#id_csv_upload").fadeOut(0);
  $("#id_user_groups").fadeOut(0);
  $('#id_user_groups input[type="checkbox"]').prop('checked', false);
  $('#contact_file').val('');
}
function ShowUsersGroups() {
  document.getElementById("MessageFormatTitle").innerHTML = "Select Groups";
  $('#mobile-number-counter').val('');
  $("#id_mobile_numbers").fadeOut(0);
  $("#id_csv_upload").fadeOut(0);
  $('#id_description_number').fadeOut(0);
  $('#id_description_upload').fadeOut(0);
  $("#id_user_groups").fadeIn(0);
  $('#contact_file').val('');
}
function ShowCSVUpload() {
  document.getElementById("MessageFormatTitle").innerHTML = "Upload XLS";
  $('#mobile-number-counter').val('');
  $('#UniqueNumberCount, #TotalNumberCount').text(0);
  $("#id_mobile_numbers").fadeOut(0);
  $("#id_csv_upload").fadeIn(0);
  $('#id_description_number').fadeOut(0);
  $('#id_description_upload').fadeIn(0);
  $("#id_user_groups").fadeOut(0);
  $('#id_user_groups input[type="checkbox"]').prop('checked', false);
}
function EditUsersSenderIDForm() {
  var diamoni = document.getElementById("userssenderid");
  var zamarrion = document.getElementById("usersrelation");
  var rogen = document.getElementById("userscontains");
  if (diamoni.value.trim() == "") {
    diamoni.focus();
    return false;
  } else {
    if (zamarrion.value.trim() == "") {
      zamarrion.focus();
      return false;
    } else {
      if (rogen.value.trim() == "") {
        rogen.focus();
        return false;
      } else {
        $("#SystemMessage").fadeIn(100);
        $("#EditSenderIDForm").fadeOut(100);
        document.getElementById("SystemMessage").innerHTML = "Processing ... <div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='Processing'></div>";
        $.ajax({
          url: "processor.php?mode=edit-user-sender-id&action=add-session", data: $("#EditSenderIDForm").serialize(), type: "POST", async: true, success: function (azayzel) {
            var nekeisha = jQuery.parseJSON(azayzel);
            if (nekeisha.status == "success") {
              $("#SystemMessage").fadeOut(500);
              $("#SenderIDForm").fadeIn(100);
              diamoni.value = "";
              zamarrion.value = "";
              rogen.value = "";
              $("#EditSenderIDForm").fadeIn(0);
              $("#AddUsersSenderID").fadeIn(0);
              $("#EditUsersSenderID").fadeOut(0);
              swal("Success!", "You have successfully added sender id", "success");
            }
            ;
            if (nekeisha.status == "exist") {
              $("#SystemMessage").fadeOut(100);
              $("#EditSenderIDForm").fadeIn(100);
              swal("Error!", "Sender ID already exist.", "error");
            }
            ;
            if (nekeisha.status == "error") {
              $("#SystemMessage").fadeOut(100);
              $("#EditSenderIDForm").fadeIn(100);
              swal("Error!", "An error occurred during the process please try again.", "error");
            }
          }, error: function (kinaya, peggy) {
            $("#SystemMessage").fadeOut(100);
            $("#EditSenderIDForm").fadeIn(100);
            swal("Error!", "An error occurred during the process please try again.", "error");
          }
        });
      }
    }
  }
}
function NoticeDetails(pearce) {
  $.ajax({
    url: "processor.php?mode=notice-details&action=add-session&NoticeID=" + pearce, type: "POST", async: true, success: function (demaurie) {
      var odonis = jQuery.parseJSON(demaurie);
      if (odonis.status == "success") {
        swal({ title: odonis.subject, text: odonis.details, html: true });
      }
      ;
      if (odonis.status == "error") {
        swal("Error!", "An error occurred during the process please try again.", "error");
      }
    }, error: function (alienna, camlyn) {
      swal("Error!", "An error occurred during the process please try again.", "error");
    }
  });
}
function SubmitBroadcast() {
  var cristain = document.getElementById("sms_subject");
  var amariona = document.getElementById("char-counter");
  if (cristain.value.trim() == "") {
    cristain.focus();
    return false;
  } else {
    if (amariona.value.trim() == "") {
      amariona.focus();
      return false;
    } else {
      swal({ title: "Are you sure?", text: "If SMS balance is lower then sms wont be sent. If SMTP not updated then emails wont be sent.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Submit", cancelButtonText: "Cancel", closeOnConfirm: false, closeOnCancel: true }, function (brisseida) {
        if (brisseida) {
          $("#BroadcastSMSMessage").fadeIn(0);
          swal({ title: "Please wait ...", text: "System is processing your request. Please do not close or refresh browser.", showConfirmButton: false });
          document.BroadcastForm.submit();
        }
      });
    }
  }
}
function PauseJob(collene) {
  swal({ title: "Are you sure?", text: "Please confirm if you would like to pause the job.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes", closeOnConfirm: true }, function () {
    $.ajax({
      type: "POST", url: "processor.php?mode=pause-job&JobID=" + collene, async: true, success: function (kahliya) {
        var tavania = jQuery.parseJSON(kahliya);
        if (tavania.status == "success") {
          document.getElementById("JobStatus" + collene).innerHTML = "Paused";
          swal("Success!", "You have successfully paused the job.", "success");
        } else {
          swal("Error!", "An error occurred during the process please try again.", "error");
        }
      }, error: function (shanton, arnet) {
        swal("Error!", "An error occurred during the process please try again.", "error");
      }
    });
  });
}
function ResumeJob(necola) {
  swal({ title: "Are you sure?", text: "Please confirm if you would like to resume the job.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes", closeOnConfirm: true }, function () {
    $.ajax({
      type: "POST", url: "processor.php?mode=resume-job&JobID=" + necola, async: true, success: function (kathyrne) {
        var guerdon = jQuery.parseJSON(kathyrne);
        if (guerdon.status == "success") {
          document.getElementById("JobStatus" + necola).innerHTML = "Ongoing";
          document.getElementById("JobAction" + necola).innerHTML = "Ongoing";
          swal({ title: "Success!", text: "You have successfully restarted the job", type: "success" }, function () {
            window.location = "spam-drop-release.php";
          });
        } else {
          swal("Error", "An error occurred during the process please try again.", "error");
        }
      }, error: function (bronco, teenia) {
        swal("Error", "An error occurred during the process please try again.", "error");
      }
    });
  });
}
function DropJob(battista) {
  swal({ title: "Are you sure?", text: "Please confirm if you would like to drop selected job.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes", closeOnConfirm: true }, function () {
    $.ajax({
      type: "POST", url: "processor.php?mode=drop-job&JobID=" + battista, async: true, success: function (aila) {
        var octabio = jQuery.parseJSON(aila);
        if (octabio.status == "success") {
          document.getElementById("JobStatus" + battista).innerHTML = "Dropped";
          document.getElementById("JobAction" + battista).innerHTML = "Dropped";
          window.location = "spam-drop-release.php";
        } else {
          swal("Error!", "An error occurred during the process please try again.", "error");
        }
      }, error: function (manique, iyeisha) {
        swal("Error!", "An error occurred during the process please try again.", "error");
      }
    });
  });
}
function PreviewDynamicCompose(allyse, babbi) {
  var anganette = document.getElementById("route_type_id").value;
  var swendy = $("#char-counter").val();
  var swendy = $.nl2br(swendy);
  if (anganette == "") {
    swal("Error!", "Please select route", "error");
    return false;
  } else {
    if (swendy == "") {
      swal("Error!", "Please enter message", "error");
      return false;
    } else {
      $.ajax({
        type: "POST", url: "processor.php?mode=preview-dynamic-sms&SMSMessage=" + swendy + "&message_type=" + babbi + "&DynamicFile=" + allyse + "&route_type_id=" + anganette, async: true, success: function (personna) {
          var teletha = jQuery.parseJSON(personna);
          if (teletha.status == "success") {
            $("#PreviewSMS").html(teletha.preview);
            $("#DynamicSMSModal").modal("show");
            document.getElementById("charCount").innerHTML = teletha.MessageLength + " Chars";
            document.getElementById("SMSCount").innerHTML = teletha.SMSCount + " SMS";
            document.getElementById("DynamicSMSCount").value = teletha.SMSCount;
            $("#SubmitDynamicComposeButton").prop("disabled", false);
          } else {
            swal("Error!", "An error occurred during the process please try again.", "error");
          }
        }, error: function (saretta, sonnya) {
          swal("Exception Error!", "An error occurred during the process please try again.", "error");
        }
      });
    }
  }
}
function ComposeTemplate(jonina) {
  var philece = $("#char-counter").val();
  var claris = $("#template").val();
  if (philece == "" || claris == "") {
    swal("Error!", "Please select template.", "error");
  } else {
    $.ajax({
      url: "processor.php", data: "mode=get-users-template-message&action=add-session&TemplateID=" + claris, type: "POST", async: true, success: function (ayline) {
        var shontay = jQuery.parseJSON(ayline);
        if (shontay.status == "success") {
          var yadon = shontay.ExpressionValueCount;
          var katenia = shontay.template_message;
          var markenzie;
          var yadon;
          var shahada = new Array;
          for (markenzie = 1; markenzie <= 10; markenzie++) {
            var lynken = $("#expression_value_" + markenzie).val();
            if (lynken) {
              shahada.push(lynken);
              var katenia = katenia.replace("{val}", lynken);
            }
          }
          ;
          if (shahada.length != yadon) {
            swal("Error!", "Please enter all values.", "error");
          } else {
            document.getElementById("char-counter").value = katenia;
            //$("#template").prop("selectedIndex", 0);
            $("#template").selectpicker("refresh");
          }
        }
      }, error: function (matsuo, denetia) {
        swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
      }
    });
  }
}
function SubmitCompose() {
  var zaydren = document.getElementById("message_type");
  var tomasi = document.getElementById("route_type_id");
  var dekisha = document.getElementById("message_format");
  var masa = document.getElementById("mobile-number-counter");
  var koki = document.getElementById("char-counter");
  var jozzlynn = $("#mobile-number-counter").val();
  var raylen = $("#char-counter").val().length;
  var cyress = /(\r\n|\n|\r)/g;
  var smsLimit = parseInt($("#NumberCount").parent().text().match(/\d{1,}/g).pop() || "25000", 10);
  var mirana = jozzlynn.trim().replace(cyress, `/(
\
|\
|
)/`).split(`/(
\
|\
|
)/`).length;
  if (tomasi.value.trim() == "") {
    swal("Error!", "Please select route", "error");
    tomasi.focus();
    return false;
  } else {
    if (dekisha.value.trim() == "") {
      swal("Error!", "Please select sms format", "error");
      dekisha.focus();
      return false;
    } else {
      if (mirana > smsLimit) {
        swal("Error!", "Please enter max " + smsLimit + " mobile numbers", "error");
        masa.select();
        return false;
      } else {
        if (koki.value.trim() == "") {
          swal("Error!", "Please enter sms message", "error");
          koki.focus();
          return false;
        } else {
          if (zaydren.value == "Text" && raylen > 2e3) {
            swal("Error!", "Please enter message max 2000 characters", "error");
            koki.select();
            return false;
          } else {
            if (zaydren.value == "Unicode" && raylen > 1340) {
              swal("Error!", "Please enter message max 1340 characters", "error");
              koki.select();
              return false;
            } else {
              var op = {
                title: "Are you sure?", html: true, text: 'Type ',
                type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55",
                confirmButtonText: "Send Now", cancelButtonText: "Cancel", closeOnConfirm: false, closeOnCancel: true
              };
              $.each(['btn_msg_type', 'charCount', 'SMSCount'], function (_, s) {
                op.text += $('#' + s).text() + ', ';
              });
              swal(op, function (daniyla) {
                if (daniyla) {
                  $("#ComposeSMSMessage").fadeIn(0);
                  swal({ title: "Please wait ...", text: "System is processing your request. Please do not close or refresh browser.", showConfirmButton: false });

                  var frm = new FormData(document.ComposeForm);
                  frm.append('cmd', 'send-sms');
                  var txt = $('#mobile-number-counter').val();
                  if ($.trim(txt).length) {
                    frm.append('numbers', new File([new Blob([txt], { type: 'text/plain' })], "copy-paste.txt", { type: "text/plain" }));
                  }

                  $.ajax({
                    url: this_page,
                    data: frm,
                    cache: false,
                    contentType: false,
                    processData: false,
                    method: 'POST',
                    cache: false,
                    success: function (resp) {
                      // resp = JSON.parse(resp);
                      swal('Job Status', resp.message, resp.status);
                      if ('success' === resp.status) {
                        swal('Success', resp.message, 'success');
                        setTimeout(function () {
                          location.reload();
                        }, 5000);
                      } else {
                        swal('Error', resp.message, 'error');
                      }
                    },
                    error: function () {
                      swal('Error', 'Something went wrong', 'error');
                    }
                  });
                }
              });
            }
          }
        }
      }
    }
  }
}


// -----------------------------------------------------------------test------------------------------------------------------------
// function getValidAndUniqueNumbers(mobileNumberCount) {
//   // Split input by line breaks or spaces, trim extra spaces
//   var mobileNumbers = mobileNumberCount.trim().replace(/(\r\n|\n|\r)/g, ',').split(',').map(num => num.trim());

//   // Filter valid numbers (exactly 10 digits)
//   var validNumbers = mobileNumbers.filter(num => isValidPhoneNumber(num));

//   // Get unique valid numbers using a Set
//   var uniqueValidNumbers = [...new Set(validNumbers)];

//   // Update UI with the count of unique valid numbers
//   $("#UniqueNumberCount").text(uniqueValidNumbers.length);

//   return uniqueValidNumbers.length;
// }
// -----------------------------------------------------------------test------------------------------------------------------------


// $result = processJobAndSms($jobOptions);


function SubmitComposeNew() {
  var messageType = document.getElementById("message_type");
  var routeType = document.getElementById("route_type_id");
  var messageFormat = document.getElementById("message_format");
  var mobileCounter = document.getElementById("mobile-number-counter");
  var charCounter = document.getElementById("char-counter");
  var mobileNumberCount = $("#mobile-number-counter").val();
  var charCountLength = $("#char-counter").val().length;
  var lineBreakPattern = /(\r\n|\n|\r)/g;
  var smsBalance = parseInt($('input[name="totalsmsbalance"]').val(), 10);
  var uniqueNumbers = parseInt($("#UniqueNumberCount").text(), 10);
  // var uniqueNumbers = getValidAndUniqueNumbers(mobileNumberCount);  
  var smsLimit = parseInt($("#NumberCount").parent().text().match(/\d{1,}/g).pop() || "25000", 10);
  var mobileCount = mobileNumberCount.trim().replace(lineBreakPattern, '/(\n|\r|\r\n)/').split('/(\n|\r|\r\n)/').length;
  if (routeType.value.trim() === "") {
    swal("Error!", "Please select route", "error");
    routeType.focus();
    return false;
  }
  if (messageFormat.value.trim() === "") {
    swal("Error!", "Please select SMS format", "error");
    messageFormat.focus();
    return false;
  }
  if (mobileCount > smsLimit) {
    swal("Error!", "Please enter max " + smsLimit + " mobile numbers", "error");
    mobileCounter.select();
    return false;
  }
  if (charCounter.value.trim() === "") {
    swal("Error!", "Please enter SMS message", "error");
    charCounter.focus();
    return false;
  }
  if (messageType.value == "Text" && charCountLength > 2000) {
    swal("Error!", "Please enter a message with a max of 2000 characters", "error");
    charCounter.select();
    return false;
  }
  if (messageType.value == "Unicode" && charCountLength > 1340) {
    swal("Error!", "Please enter a message with a max of 1340 characters", "error");
    charCounter.select();
    return false;
  }
  if (smsBalance < uniqueNumbers) {
    swal("Error!", "Insufficient SMS balance to send messages. Your balance is " + smsBalance + " and you need to send to " + uniqueNumbers + " numbers.", "error");
    return false;
  }
  var charCount = $('#charCount').text();
  var pdu = get_pdu();
  if (pdu > 1) {
    swal({
      html: true,
      title: "Message Length Warning",
      type: "warning",
      showCancelButton: true,
      confirmButtonColor: "#DD6B55",
      confirmButtonText: "Yes",
      cancelButtonText: "No",
      closeOnConfirm: false,
      closeOnCancel: true,
      text: `Your message is ${charCount} characters long. Do you want to proceed?\n\
                  <div>\
                      <input id="checkbox-input" type="checkbox" value="" class="length-confirm">\
                      <label>I understand the length warning</label>\
                  </div>`
    }, function (isConfirmed) {
      if (isConfirmed) {
        var isChecked = document.getElementById('checkbox-input').checked;
        if (isChecked) {
          previewCompose();
          swal.close();
        } else {
          swal("Error", "Please accept the length warning before processing", "error");
        }
      }
    });
  } else {
    previewCompose();
  }
}



function get_pdu() {
  var smsCount = $('#SMSCount').text();
  return smsCount.replace(/\bSMS\b/g, '');
}

function previewCompose() {
  $('.routes-bal').text(
    $('#route_type_id')
      .find('option:selected').text()
  );
  routeStr = $('#route_type_id').find('option:selected').text();
  var route = routeStr.substring(0, routeStr.indexOf("("));
  $('.pre-route').text(route);
  $('.pre-sender').text(
    $('#sender_id').find('option:selected').text()
  );

  msgFormat = $('input[name="message_format"]:checked').val();
  console.log('Message Format:', msgFormat);

  if (msgFormat == 'CSV') {
    totalnumID = '#TotalNumberCount';
    console.log('TotalnumID for CSV:', totalnumID);
  }


  // ------------------------------------------------Group_count not_showing on Modal-----------------------------------------------------
  else if (msgFormat == 'Group') {
    var selectedGroups = $('input[name="users_group_id[]"]:checked');
    console.log('Selected Groups:', selectedGroups);

    if (selectedGroups.length > 0) {
      var totalContactCount = 0;

      selectedGroups.each(function () {
        var groupContactNum = $(this).closest('label').find('span[id^="group_contact_"]').text();
        console.log('Group Contact Number:', groupContactNum);

        if (groupContactNum) {
          var contactCount = parseInt(groupContactNum.trim(), 10);
          if (!isNaN(contactCount)) {
            totalContactCount += contactCount;
          } else {
            console.log('Invalid contact number for', $(this));
          }
        } else {
          console.log('Group Contact Number not found for', $(this));
        }
      });

      if (totalContactCount > 0) {
        totalnumID = '#total_contact_count';
        console.log('TotalnumID:', totalnumID);

        if ($('#total_contact_count').length === 0) {
          $('body').append('<span id="total_contact_count" style="display:none;"></span>');
        }
        $('#total_contact_count').text(totalContactCount);

        console.log('Assigned value to #total_contact_count:', $('#total_contact_count').text());
      } else {
        console.log('No valid group contact numbers found');
      }
    }
  }
  // ---------------------------------------------------------------------------------------------------------------------------------------


  else {
    totalnumID = '#NumberCount';
  }


  var msg = $('[name="sms_message"]').val();
  var schd = $('#ScheduleSMSDiv').is(':visible');
  $('#pre-scheduled').addClass('hidden');

  if (schd) {
    $('#pre-scheduled').removeClass('hidden');
    $('#pre-scheduled').find('span').text($('#schedule_date').val() + ' - ' + $('#schedule_time').val());
  }

  $('.pre-total-no').text($(totalnumID).text());
  $('.pre-message').text(msg);
  $('.pre-chars').text($('#message-char-data').text());
  $('.pre-msg-type').text($('#btn_msg_type').text());
  $('#confirm-send').modal('show');
}



function SubmitSmartCompose() {
  var zaydren = document.getElementById("message_type");
  var tomasi = document.getElementById("route_type_id");
  var dekisha = document.getElementById("message_format");
  var masa = document.getElementById("mobile-number-counter");
  var koki = document.getElementById("char-counter");
  var jozzlynn = $("#mobile-number-counter").val();
  var raylen = $("#char-counter").val().length;
  var cyress = /(\r\n|\n|\r)/g;
  var smsLimit = parseInt($("#NumberCount").parent().text().match(/\d{1,}/g).pop() || "25000", 10);
  var mirana = jozzlynn.trim().replace(cyress, `/(
\
|\
|
)/`).split(`/(
\
|\
|
)/`).length;
  if (tomasi.value.trim() == "") {
    swal("Error!", "Please select route", "error");
    tomasi.focus();
    return false;
  } else {
    if (dekisha.value.trim() == "") {
      swal("Error!", "Please select sms format", "error");
      dekisha.focus();
      return false;
    } else {
      if (mirana > smsLimit) {
        swal("Error!", "Please enter max " + smsLimit + " mobile numbers", "error");
        masa.select();
        return false;
      } else {
        if (koki.value.trim() == "") {
          swal("Error!", "Please enter sms message", "error");
          koki.focus();
          return false;
        } else {
          if (zaydren.value == "Text" && raylen > 2e3) {
            swal("Error!", "Please enter message max 2000 characters", "error");
            koki.select();
            return false;
          } else {
            if (zaydren.value == "Unicode" && raylen > 1340) {
              swal("Error!", "Please enter message max 1340 characters", "error");
              koki.select();
              return false;
            } else {
              var op = {
                title: "Are you sure?", html: true, text: 'Type ',
                type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55",
                confirmButtonText: "Send Now", cancelButtonText: "Cancel", closeOnConfirm: false, closeOnCancel: true
              };
              $.each(['btn_msg_type', 'charCount', 'SMSCount'], function (_, s) {
                op.text += $('#' + s).text() + ', ';
              });
              swal(op, function (daniyla) {
                if (daniyla) {
                  $("#ComposeSMSMessage").fadeIn(0);
                  swal({ title: "Please wait ...", text: "System is processing your request. Please do not close or refresh browser.", showConfirmButton: false });
                  document.ComposeForm.submit();
                }
              });
            }
          }
        }
      }
    }
  }
}

function SubmitDynamicCompose() {
  var youel = document.getElementById("route_type_id");
  var shantrese = document.getElementById("mobile_numbers");
  var sude = document.getElementById("char-counter");
  if (youel.value.trim() == "") {
    swal("Error!", "Please select route", "error");
    youel.focus();
    return false;
  } else {
    if (shantrese.value.trim() == "") {
      swal("Error!", "Please select mobile number field", "error");
      shantrese.focus();
      return false;
    } else {
      if (sude.value.trim() == "") {
        swal("Error!", "Please enter sms message", "error");
        sude.focus();
        return false;
      } else {
        swal({title: "Are you sure?", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Send Now", cancelButtonText: "Cancel", closeOnConfirm: true, closeOnCancel: true}, function (amri) {
          if (amri) {
            $("#ComposeSMSMessage").fadeIn(0);
            swal({title: "Please wait ...", text: "System is processing your request. Please do not close or refresh browser.", showConfirmButton: false});


            document.ComposeForm.submit();      // **** should change to dotnet 
          }
        });
      }
    }
  }
}


// ------------------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------------------
// -----------------------------------------------------------  DOTNET API ------------------------------------------------------------------


// function SubmitDynamicCompose() {
//   var youel = document.getElementById("route_type_id");
//   var shantrese = document.getElementById("mobile_numbers");
//   var sude = document.getElementById("char-counter");

//   if (youel.value.trim() == "") {
//     swal("Error!", "Please select route", "error");
//     youel.focus();
//     return false;
//   } else {
//     if (shantrese.value.trim() == "") {
//       swal("Error!", "Please select mobile number field", "error");
//       shantrese.focus();
//       return false;
//     } else {
//       if (sude.value.trim() == "") {
//         swal("Error!", "Please enter sms message", "error");
//         sude.focus();
//         return false;
//       } else {
//         swal({ title: "Are you sure?", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Send Now", cancelButtonText: "Cancel", closeOnConfirm: true, closeOnCancel: true }, function (amri) {
//           if (amri) {
//             $("#ComposeSMSMessage").fadeIn(0);
//             swal({ title: "Please wait ...", text: "System is processing your request. Please do not close or refresh browser.", showConfirmButton: false });

//             // Function to get value or return an empty string if not found
//             function getValueOrEmpty(id) {
//               var element = document.getElementById(id);
//               return element ? element.value || "" : "";
//             }

//             // Create a FormData object to capture form data
//             var formData = new FormData(document.getElementById("ComposeForm"));

//             // Add additional fields if they are not part of the form
//             formData.append("message_type", getValueOrEmpty("message_type"));
//             formData.append("message_smart_url", getValueOrEmpty("message_smart_url"));
//             formData.append("tempid", getValueOrEmpty("tempid"));
//             formData.append("route_type_id", getValueOrEmpty("route_type_id"));
//             formData.append("totalsmsbalance", getValueOrEmpty("totalsmsbalance"));
//             formData.append("sender_id", getValueOrEmpty("sender_id"));
//             formData.append("message_format", getValueOrEmpty("message_format"));
//             // formData.append("contact_file", document.getElementById("contact_file").files[0] || ""); // For file input
//             formData.append("my_draft", getValueOrEmpty("my_draft"));
//             formData.append("sms_message", getValueOrEmpty("sms_message"));
//             formData.append("templateid", getValueOrEmpty("templateid"));
//             formData.append("campaign_name", getValueOrEmpty("campaign_name"));
//             formData.append("schedule_date", getValueOrEmpty("schedule_date"));
//             formData.append("schedule_time", getValueOrEmpty("schedule_time"));
//             formData.append("cmd", "send-sms"); // Hardcoded or dynamically set
//             formData.append("numbers", getValueOrEmpty("numbers")); // For textarea or input
//             formData.append("NumberCount", document.getElementById("NumberCount") ? document.getElementById("NumberCount").textContent : "");
//             formData.append("UniqueNumberCount", document.getElementById("UniqueNumberCount") ? document.getElementById("UniqueNumberCount").textContent : "");
//             formData.append("TotalNumberCount", document.getElementById("TotalNumberCount") ? document.getElementById("TotalNumberCount").textContent : "");

//             // Log the form data to the console
//             for (var pair of formData.entries()) {
//               console.log(pair[0] + ": " + pair[1]);
//             }




//             // Send AJAX request to .NET endpoint
//             $.ajax({
//               url: 'http://localhost:5195/api/DynamicProcessJobAndSmsApi/', // Replace with your .NET endpoint URL
//               type: 'POST',
//               data: formData,
//               processData: false,
//               contentType: false,
//               success: function (response) {
//                 // Handle success response
//                 swal("Success!", "SMS sent successfully.", "success");
//                 $("#ComposeSMSMessage").fadeOut(0);
//               },
//               error: function (xhr, status, error) {
//                 // Handle error response
//                 swal("Error!", "An error occurred while sending SMS. Please try again.", "error");
//                 $("#ComposeSMSMessage").fadeOut(0);
//               }
//             });
//             // event.preventDefault(); // Stop the form from submitting

//           }
//         });
//       }
//     }
//   }
// }



// ------------------------------------------------------------------------------------------------------------------------------------------





// function SubmitDynamicComposeAPI() {
//   // Extract form data
//   var formData = {
//     "SMSMessage": $("#char-counter").val().trim(),
//     "RouteTypeId": $("#route_type_id").val().trim(),
//     "MobileNumbers": $("#mobile_numbers").val().trim(),
//     "UserID": $("#user_id").val(),
//     "JobId": $("#job_id").val()
//   };

//   // Include resarr data from PHP
//   // if (typeof resarr !== "undefined") {
//     formData = { ...formData, ...resarr };
//   // }

//   console.log("Sending request to .NET API: ", formData); //  Log the request in the browser

//   $.ajax({
//     url: "https://localhost:5196/api/sms/upload-file",
//     type: "POST",
//     contentType: "application/json",
//     data: JSON.stringify(formData),
//     dataType: "json",
//     success: function(response) {
//       if (response.status === "success") {
//         console.log("Response from .NET API: ", response); //  Log success response
//         swal("Success!", "SMS submitted successfully.", "success");
//       } else {
//         swal("Error!", response.message || "Failed to send SMS.", "error");
//       }
//     },
//     error: function(xhr, error) {
//       let errorMessage = xhr.responseJSON?.message || "Unknown error";
//       console.log("AJAX Error: ", xhr.responseText || error); //  Log failure response
//       swal("Error!", "An error occurred: " + errorMessage, "error");
//     }
//   });
// }




// ------------------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------------------
// ------------------------------------------------------------------------------------------------------------------------------------------


function Logout() {
  swal({ title: "Are you sure?", text: "You need to login again to access the application.", type: "warning", showCancelButton: true, confirmButtonColor: "#DD6B55", confirmButtonText: "Yes, Logout", cancelButtonText: "No, Cancel", closeOnConfirm: false, closeOnCancel: true }, function (yazleen) {
    if (yazleen) {
      window.location.href = "logout.php";
    }
  });
}
function GetDashboardTotal(moir, fairie) {
  document.getElementById("DashboardID" + moir).innerHTML = "<div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-dashboard-value&action=add-session&SMSStatus=" + moir + "&UsersID=" + fairie, type: "POST", async: true, success: function (ekram) {
      var tyteanna = jQuery.parseJSON(ekram);
      if (tyteanna.status == "success") {
        document.getElementById("DashboardID" + moir).innerHTML = tyteanna.value;
      }
    }
  });
}
function GetMySendJobIDTotal(kanylah, berlinda) {
  document.getElementById("MySendJobID" + kanylah).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-sendjob-total&action=add-session&JobID=" + kanylah + "&UsersID=" + berlinda, type: "POST", async: true, success: function (hudhayfah) {
      var ktina = jQuery.parseJSON(hudhayfah);
      if (ktina.status == "success") {
        document.getElementById("MySendJobID" + kanylah).innerHTML = ktina.TotalSMS;
      }
    }
  });
}
function GetMySendJobIDSubmitted(tarian, tamyrah) {
  document.getElementById("GetMySendJobIDSubmitted" + tarian).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-sendjob-submitted&action=add-session&JobID=" + tarian + "&UsersID=" + tamyrah, type: "POST", async: true, success: function (altoria) {
      var eymen = jQuery.parseJSON(altoria);
      if (eymen.status == "success") {
        document.getElementById("GetMySendJobIDSubmitted" + tarian).innerHTML = eymen.TotalSMS;
      }
    }
  });
}
function GetMySendJobIDTotalDelievred(carolynne, aadhyareddy) {
  document.getElementById("MySendJobIDTotalDelievred" + carolynne).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-sendjob-total-delievered&action=add-session&JobID=" + carolynne + "&UsersID=" + aadhyareddy, type: "POST", async: true, success: function (isaiahs) {
      var conall = jQuery.parseJSON(isaiahs);
      if (conall.status == "success") {
        document.getElementById("MySendJobIDTotalDelievred" + carolynne).innerHTML = conall.TotalSMS;
      }
    }
  });
}
function GetMySendJobIDTotalSmart(milarain, zabien) {
  document.getElementById("MySendJobIDTotalSmart" + milarain).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-sendjob-total-smart&action=add-session&JobID=" + milarain + "&UsersID=" + zabien, type: "POST", async: true, success: function (merdice) {
      var kensingtyn = jQuery.parseJSON(merdice);
      if (kensingtyn.status == "success") {
        document.getElementById("MySendJobIDTotalSmart" + milarain).innerHTML = kensingtyn.TotalSMS;
      }
    }
  });
}
function GetMySendJobIDTotalRefund(khamari, zahniyah) {
  document.getElementById("MySendJobIDTotalRefund" + khamari).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-sendjob-total-refund&action=add-session&JobID=" + khamari + "&UsersID=" + zahniyah, type: "POST", async: true, success: function (eunji) {
      var malaine = jQuery.parseJSON(eunji);
      if (malaine.status == "success") {
        document.getElementById("MySendJobIDTotalRefund" + khamari).innerHTML = malaine.TotalSMS;
      }
    }
  });
}
function GetMySendJobIDSMSCount(montressa, khubaib) {
  document.getElementById("MySendJobIDSMSCount" + montressa).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-sendjob-smscount&action=add-session&JobID=" + montressa + "&UsersID=" + khubaib, type: "POST", async: true, success: function (marzavion) {
      var yuleidi = jQuery.parseJSON(marzavion);
      if (yuleidi.status == "success") {
        document.getElementById("MySendJobIDSMSCount" + montressa).innerHTML = yuleidi.TotalSMS;
      }
    }
  });
}
function GetMySendJobIDRefund(erubey) {
  document.getElementById("MySendJobIDRefund" + erubey).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-sendjob-refund&action=add-session&JobID=" + erubey, type: "POST", async: true, success: function (lynkin) {
      var elijiah = jQuery.parseJSON(lynkin);
      if (elijiah.status == "success") {
        document.getElementById("MySendJobIDRefund" + erubey).innerHTML = elijiah.TotalSMS;
      }
    }
  });
}
function GetSendJobIDSmart(mirella) {
  document.getElementById("SendJobIDSmart" + mirella).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-sendjob-smart&action=add-session&JobID=" + mirella, type: "POST", async: true, success: function (phillys) {
      var kaviyah = jQuery.parseJSON(phillys);
      if (kaviyah.status == "success") {
        document.getElementById("SendJobIDSmart" + mirella).innerHTML = kaviyah.TotalSMS;
      }
    }
  });
}
function GetMyUsagaeSummary(naithyn, bivan, korii, katen) {
  document.getElementById("MyUsageSummary" + bivan + korii + katen).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-users-summary&action=add-session&UsersID=" + naithyn + "&Status=" + bivan + "&StartjDate=" + korii + "&EndJDate=" + katen, type: "POST", async: true, success: function (etosha) {
      var hideki = jQuery.parseJSON(etosha);
      if (hideki.status == "success") {
        document.getElementById("MyUsageSummary" + bivan + korii + katen).innerHTML = hideki.TotalSMS;
      }
    }
  });
}
function GetMyUsagaeSummaryMonthYear(chaysen, takina, jermail, amyia, nichalos) {
  document.getElementById("MyUsageSummary" + takina + jermail + amyia).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-users-summary-monthyear&action=add-session&UsersID=" + chaysen + "&Status=" + takina + "&StartjDate=" + jermail + "&EndJDate=" + amyia + "&TableNameMonthYear=" + nichalos, type: "POST", async: true, success: function (chaila) {
      var christean = jQuery.parseJSON(chaila);
      if (christean.status == "success") {
        document.getElementById("MyUsageSummary" + takina + jermail + amyia).innerHTML = christean.TotalSMS;
      }
    }
  });
}
function GetUsersUsageSummary(nyjah, jennell) {
  document.getElementById("UsersUsageSummary" + jennell + nyjah).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-users-usage-summary&action=add-session&UsersID=" + nyjah + "&Status=" + jennell, type: "POST", async: true, success: function (yuma) {
      var kyzere = jQuery.parseJSON(yuma);
      if (kyzere.status == "success") {
        document.getElementById("UsersUsageSummary" + jennell + nyjah).innerHTML = kyzere.TotalSMS;
      }
    }
  });
}
function GetTotalSmartByJobID(naleea, jabarr) {
  document.getElementById("SmartSendJobID" + naleea).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-smart-total&action=add-session&JobID=" + naleea + "&UsersID=" + jabarr, type: "POST", async: true, success: function (gearldean) {
      var autrey = jQuery.parseJSON(gearldean);
      if (autrey.status == "success") {
        document.getElementById("SmartSendJobID" + naleea).innerHTML = autrey.TotalSMS;
      }
    }
  });
}
function GetSenderIDReportTotal(desaraye, lauden, kemarius) {
  document.getElementById("SenderIDReport" + kemarius + desaraye).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-users-senderid-summary&action=add-session&senderid=" + desaraye + "&daterange=" + lauden + "&status=" + kemarius, type: "POST", async: true, success: function (elena) {
      var shawnta = jQuery.parseJSON(elena);
      if (shawnta.status == "success") {
        document.getElementById("SenderIDReport" + kemarius + desaraye).innerHTML = shawnta.TotalSMS;
      }
    }
  });
}
function GetUsersSenderIDReportTotal(jayleon, tarick, mishay, jemila) {
  document.getElementById("UsersSenderIDReport" + jemila + tarick).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-users-senderid-report&action=add-session&senderid=" + tarick + "&daterange=" + mishay + "&status=" + jemila + "&userid=" + jayleon, type: "POST", async: true, success: function (ancy) {
      var selema = jQuery.parseJSON(ancy);
      if (selema.status == "success") {
        document.getElementById("UsersSenderIDReport" + jemila + tarick).innerHTML = selema.TotalSMS;
      }
    }
  });
}
function GetSMPPIDReportTotal(cleoma, overa, tharon) {
  document.getElementById("SMPPIDReport" + tharon + cleoma).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-smpp-summary&action=add-session&smppid=" + cleoma + "&daterange=" + overa + "&status=" + tharon, type: "POST", async: true, success: function (rukayat) {
      var viana = jQuery.parseJSON(rukayat);
      if (viana.status == "success") {
        document.getElementById("SMPPIDReport" + tharon + cleoma).innerHTML = viana.TotalSMS;
      }
    }
  });
}
function GetRouteReportTotal(chris, jlah, shayquan) {
  document.getElementById("RouteReport" + shayquan + chris).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-route-summary&action=add-session&routeid=" + chris + "&daterange=" + jlah + "&status=" + shayquan, type: "POST", async: true, success: function (jadarius) {
      var myanni = jQuery.parseJSON(jadarius);
      if (myanni.status == "success") {
        document.getElementById("RouteReport" + shayquan + chris).innerHTML = myanni.TotalSMS;
      }
    }
  });
}
function GetUsersReportTotal(dayquon, kaileia) {
  document.getElementById("UsersReport" + kaileia + dayquon).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-all-users-summary&action=add-session&userid=" + dayquon + "&status=" + kaileia, type: "POST", async: true, success: function (ramatoulaye) {
      var walline = jQuery.parseJSON(ramatoulaye);
      if (walline.status == "success") {
        document.getElementById("UsersReport" + kaileia + dayquon).innerHTML = walline.TotalSMS;
      }
    }
  });
}
function GetUsersReportTotalAndDateRange(alicyn, keishonna, kemario) {
  document.getElementById("UsersReport" + keishonna + alicyn).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-all-users-summary-daterange&action=add-session&userid=" + alicyn + "&status=" + keishonna + "&daterange=" + kemario, type: "POST", async: true, success: function (daylynn) {
      var boe = jQuery.parseJSON(daylynn);
      if (boe.status == "success") {
        document.getElementById("UsersReport" + keishonna + alicyn).innerHTML = boe.TotalSMS;
      }
    }
  });
}
function GetUsersRouteSummary(ivena, edia, tyranisha) {
  document.getElementById("UsersRouteReport" + tyranisha + ivena + edia).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-users-route-summary&action=add-session&userid=" + ivena + "&routeid=" + edia + "&status=" + tyranisha, type: "POST", async: true, success: function (zahava) {
      var makalei = jQuery.parseJSON(zahava);
      if (makalei.status == "success") {
        document.getElementById("UsersRouteReport" + tyranisha + ivena + edia).innerHTML = makalei.TotalSMS;
      }
    }
  });
}
function GetUsersRouteSummaryDashboard(keither, alexeya, canton, kahmyah) {
  document.getElementById("UsersRouteReport" + canton + keither + alexeya).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-users-route-summary-dashboard&action=add-session&userid=" + keither + "&routeid=" + alexeya + "&status=" + canton + "&daterange=" + kahmyah, type: "POST", async: true, success: function (kynnlie) {
      var chelci = jQuery.parseJSON(kynnlie);
      if (chelci.status == "success") {
        document.getElementById("UsersRouteReport" + canton + keither + alexeya).innerHTML = chelci.TotalSMS;
      }
    }
  });
}
function GetStatDashboardTotal(noleen) {
  document.getElementById("StatDashboardID" + noleen).innerHTML = "<div class='remove-border glyph-icon demo-icon tooltip-button icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-stat-dashboard-value&action=add-session&SMSStatus=" + noleen, type: "POST", async: true, success: function (leoda) {
      var syeisha = jQuery.parseJSON(leoda);
      if (syeisha.status == "success") {
        document.getElementById("StatDashboardID" + noleen).innerHTML = syeisha.value;
      }
    }
  });
}
function GetStatRouteReportTotal(tidiane, jhournei) {
  document.getElementById("StatRouteReport" + jhournei + tidiane).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-stat-route-summary&action=add-session&routeid=" + tidiane + "&status=" + jhournei, type: "POST", async: true, success: function (anaica) {
      var estefhany = jQuery.parseJSON(anaica);
      if (estefhany.status == "success") {
        document.getElementById("StatRouteReport" + jhournei + tidiane).innerHTML = estefhany.TotalSMS;
      }
    }
  });
}
function GetStatRouteReportTotalByDateRange(dianetta, aansh, canan) {
  document.getElementById("StatRouteReport" + aansh + dianetta).innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2'></div>";
  $.ajax({
    url: "processor.php", data: "mode=get-stat-route-summary-daterange&action=add-session&routeid=" + dianetta + "&status=" + aansh + "&daterange=" + canan, type: "POST", async: true, success: function (zihir) {
      var russie = jQuery.parseJSON(zihir);
      if (russie.status == "success") {
        document.getElementById("StatRouteReport" + aansh + dianetta).innerHTML = russie.TotalSMS;
      }
    }
  });
}
function ShowSmartLinkInput() {
  $("#id_smart_link_input").fadeIn(0);
  $("#id_smart_link_file").fadeOut(0);
  document.getElementById("smart_sms_url2").value = "";
  document.getElementById("file").value = "";
  $("#id_smart_link_file_uploaded").fadeOut(0);
  document.getElementById("id_upload_button").value = "Upload";
  document.getElementById("id_upload_div").innerHTML = "";
  $("#id_upload_button").attr("disabled", false);
}
function ShowSmartLinkChooseFile() {
  $("#id_smart_link_input").fadeOut(0);
  $("#id_smart_link_file").fadeIn(0);
  document.getElementById("smart_sms_url2").value = "";
  document.getElementById("file").value = "";
  $("#id_smart_link_file_uploaded").fadeOut(0);
  document.getElementById("id_upload_button").value = "Upload";
  document.getElementById("id_upload_div").innerHTML = "";
  $("#id_upload_button").attr("disabled", false);
}
function ShowHideSmartLinkGroupList(seah) {
  if (seah.checked == false) {
    $("#id_group_list").fadeOut(0);
  } else {
    $("#id_group_list").fadeIn(0);
  }
}
function ShowHideSmartLinkNotification(deidree) {
  if (deidree.checked == false) {
    $("#id_notification").fadeOut(0);
  } else {
    $("#id_notification").fadeIn(0);
  }
}
function ValidURL(avrumy) {
  regexp = /^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/;
  if (regexp.test(avrumy)) {
    return true;
  } else {
    return false;
  }
}
function ShowSmartLinkModal() {
  document.getElementById("smart_sms_option1").checked = true;
  document.getElementById("smart_sms_url").value = "";
  $("#id_smart_link_input").fadeIn(0);
  $("#id_smart_link_file").fadeOut(0);
  document.getElementById("id_upload_button").value = "Upload";
  $("#id_upload_button").attr("disabled", false);
  document.getElementById("id_upload_div").innerHTML = "";
  $("#id_smart_link_file_uploaded").fadeOut(0);
  document.getElementById("smart_sms_url2").value = "";
  document.getElementById("file").value = "";
  document.getElementById("id_group").checked = false;
  document.getElementById("notification").checked = false;
  document.getElementById("smart_sms_notification").value = "";
  document.getElementById("smart_sms_filename").value = "";
  $("#id_notification").fadeOut(0);
  $("#id_group_list").fadeOut(0);
  document.getElementById("smart_sms_short_url").value = "";
  document.getElementById("SmartLinkUploadForm").reset();
  $("#smart-sms-model").modal("show");
}
function AddSmartURL() {
  var lilli = 0, eja = 1, anabelli = 0;
  var eldene = shortURL_Prefix;
  var drelynn = document.getElementById("char-counter").value;
  while (true) {
    anabelli = drelynn.indexOf(eldene, anabelli);
    if (anabelli >= 0) {
      eja++;
      anabelli++;
    } else {
      break;
    }
  }
  ;
  if (eja <= 3) {
    var noorah = drelynn.includes(eja + "XXXX");
    if (noorah == true) {
      eja++;
    }
    ;
    document.getElementById("smart_sms_short_url").value = shortURL_Prefix + eja + "XXXX";
  } else {
    swal("Error!", "You can insert maximum 3 links tracking.", "error");
    $("#smart-sms-model").modal("hide");
  }
}
function AppendSmartSMSDetails() {
  var maegann = document.getElementById("smart_sms_option1").value.trim();
  var jareese = document.getElementById("smart_sms_option2").value.trim();
  if (document.getElementById("smart_sms_option1").checked == true) {
    var dalayssa = document.getElementById("smart_sms_url").value.trim();
  } else {
    if (document.getElementById("smart_sms_option2").checked == true) {
      var dalayssa = document.getElementById("smart_sms_url2").value.trim();
    } else { }
  }
  ;
  var jackelynn = ValidURL(dalayssa);
  if (jackelynn == false) {
    swal("Error!", "Please enter valid website address (URL)", "error");
    return true;
  }
  ;
  var savaya = document.getElementById("file").value.trim();
  var dmyah = document.getElementById("smart_sms_short_url").value.trim();
  var aubreey = document.getElementById("id_group");
  if (aubreey.checked == true) {
    var floresita = "Yes";
    var anayelis = document.getElementById("smart_sms_group_id").value.trim();
  } else {
    var floresita = "No";
    var anayelis = "";
  }
  ;
  var tanvee = document.getElementById("notification");
  if (tanvee.checked == true) {
    var sa = "Yes";
    var leul = document.getElementById("smart_sms_notification").value.trim();
  } else {
    var sa = "No";
    var leul = "";
  }
  ;
  var elizebth = document.getElementById("smart_sms_filename").value.trim();
  $("#smart-sms-model").modal("hide");
  var el = document.getElementById("char-counter");
  var caretPos = el.selectionStart;
  var txt = el.value;
  var space = txt[caretPos - 1] === ' ' ? '' : ' ';
  el.value = txt.substring(0, caretPos) + space + dmyah + txt.substring(caretPos);
  el.focus();
  document.getElementById("message_smart_url").value += dalayssa + "|" + floresita + "|" + anayelis + "|" + sa + "|" + leul + "|" + elizebth + ",";
  document.getElementById("smart_sms_url").value = "";
  document.getElementById("smart_sms_short_url").value = "";
  document.getElementById("smart_sms_notification").value = "";
}
function UploadSmartFile() {
  var breashia = $("#file").prop("files")[0];
  var tangenika = new FormData;
  tangenika.append("file", breashia);
  document.getElementById("id_upload_div").innerHTML = "<div class='glyph-icon icon-spin-2 icon-spin' data-original-title='icon-spin-2 MT20'></div>";
  document.getElementById("id_upload_button").value = "Uploading ...";
  $("#id_upload_button").attr("disabled", true);
  swal({ title: "Please wait ...", text: "Uploading file ...", showConfirmButton: false });
  $.ajax({
    url: "compose-upload-smart-file.php", dataType: "text", cache: false, contentType: false, processData: false, data: tangenika, type: "POST", success: function (petula) {
      var makiley = jQuery.parseJSON(petula);
      if (makiley.status == "success") {
        $("#id_smart_link_file_uploaded").fadeIn(0);
        document.getElementById("smart_sms_url2").value = siteaddress + "sms-panel/upload/smart/" + makiley.imagename;
        document.getElementById("id_upload_div").innerHTML = "";
        document.getElementById("id_smart_link_file_uploaded").value = "Upload";
        document.getElementById("smart_sms_filename").value = makiley.imagename;
        $("#id_smart_link_file").fadeOut(0);
        AddSmartURL();
        swal.close();
      }
      ;
      if (makiley.status == "error") {
        document.getElementById("id_upload_button").value = "Upload";
        document.getElementById("id_upload_div").innerHTML = "";
        $("#id_upload_button").attr("disabled", false);
        swal("Error!", "Error during file upload Please upload jpg, png, gif or pdf file.", "error");
      }
      ;
      if (makiley.status == "empty") {
        document.getElementById("id_upload_button").value = "Upload";
        document.getElementById("id_upload_div").innerHTML = "";
        $("#id_upload_button").attr("disabled", false);
        swal("Error!", "Error during file upload Please upload jpg, png, gif or pdf file.", "error");
      }
    }
  });
}
function GetSMPPUsersUsername(yurem) {
  $("#DisplayMessageID").fadeIn(0);
  document.getElementById("DisplayMessageID").innerHTML = "Processing your request ...";
  $.ajax({
    url: "processor.php", data: "mode=get-smpp-users-username&action=add-session&user_id=" + yurem, type: "POST", async: true, success: function (naiyana) {
      var donaven = jQuery.parseJSON(naiyana);
      if (donaven.status == "success") {
        document.getElementById("UsernameList").innerHTML = donaven.usernamelist;
        $("#DisplayMessageID").fadeIn(0);
        document.getElementById("DisplayMessageID").innerHTML = "Successfully loaded username";
      }
    }, error: function (ardon, alixe) {
      swal("Error", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function GetSMPPUsersSender(deyvon) {
  $("#DisplayMessageID").fadeIn(0);
  document.getElementById("DisplayMessageID").innerHTML = "Processing your request ...";
  $.ajax({
    url: "processor.php", data: "mode=get-smpp-users-sender-smsc&action=add-session&SMPPUsername=" + deyvon, type: "POST", async: true, success: function (tinny) {
      var pricie = jQuery.parseJSON(tinny);
      if (pricie.status == "success") {
        document.getElementById("SenderList").innerHTML = pricie.senderlist;
        document.getElementById("SMSCList").innerHTML = pricie.smsclist;
        $("#DisplayMessageID").fadeIn(0);
        document.getElementById("DisplayMessageID").innerHTML = "Successfully loaded details";
      }
    }, error: function (alejandr, eythan) {
      swal("Error", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function GetSMPPUsersSenderID(chanea) {
  $("#DisplayMessageID").fadeIn(0);
  document.getElementById("DisplayMessageID").innerHTML = "Processing your request ...";
  $.ajax({
    url: "processor.php", data: "mode=get-smpp-users-sender-id&action=add-session&SMPPUsername=" + chanea, type: "POST", async: true, success: function (adelard) {
      var dannea = jQuery.parseJSON(adelard);
      if (dannea.status == "success") {
        document.getElementById("SenderList").innerHTML = dannea.senderlist;
        $("#DisplayMessageID").fadeIn(0);
        document.getElementById("DisplayMessageID").innerHTML = "Successfully loaded details";
      }
    }, error: function (lawonna, chealsea) {
      swal("Error", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
function ChangeMCUser(ramez) {
  $("#auto_reply").val("No");
  $("#MCAutoReply").fadeOut(0);
  document.getElementById("MCRouteTypeID").innerHTML = "";
  document.getElementById("MCSenderID").innerHTML = "";
  document.getElementById("MCTemplateID").innerHTML = "";
}
function GetRouteTypeSenderID(laporsha) {
  if (laporsha == "Yes") {
    var aazil = document.getElementById("user_id").value.trim();
    $("#MCAutoReply").fadeIn(0);
    $.ajax({
      url: "processor.php", data: "mode=get-users-routetypeid-senderid&action=add-session&user_id=" + aazil, type: "POST", async: true, success: function (jakius) {
        var emerita = jQuery.parseJSON(jakius);
        if (emerita.status == "success") {
          document.getElementById("MCRouteTypeID").innerHTML = emerita.routetypeid;
          document.getElementById("MCSenderID").innerHTML = emerita.senderid;
          document.getElementById("MCtemplateID").innerHTML = emerita.templateid;
        }
      }, error: function (yohana, itziar) {
        swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
      }
    });
  } else {
    $("#MCAutoReply").fadeOut(0);
  }
}

function ChangeMCUserShortCode(ramez) {
  $("#auto_reply").val("No");
  $("#MCAutoReply").fadeOut(0);
  document.getElementById("MCRouteTypeID").innerHTML = "";
  document.getElementById("MCSenderID").innerHTML = "";
  document.getElementById("MCTemplateID").innerHTML = "";
}
function GetRouteTypeSenderIDShortCode(laporsha) {
  if (laporsha == "Yes") {
    var aazil = document.getElementById("user_id").value.trim();
    $("#MCAutoReply").fadeIn(0);
    $.ajax({
      url: "processor.php", data: "mode=get-users-routetypeid-senderid-tempid&action=add-session&user_id=" + aazil, type: "POST", async: true, success: function (jakius) {
        var emerita = jQuery.parseJSON(jakius);
        if (emerita.status == "success") {
          console.log(emerita);
          document.getElementById("MCRouteTypeID").innerHTML = emerita.routetypeid;
          document.getElementById("MCSenderID").innerHTML = emerita.senderid;
          document.getElementById("MCTemplateID").innerHTML = emerita.templateid;
        }
      }, error: function (yohana, itziar) {
        swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
      }
    });
  } else {
    $("#MCAutoReply").fadeOut(0);
  }
}

(function (tamarik) {
  tamarik.fn.inputFilter = function (roshonna) {
    return this.on("input keydown keyup mousedown mouseup select contextmenu drop", function () {
      if (roshonna(this.value)) {
        this.oldValue = this.value;
        this.oldSelectionStart = this.selectionStart;
        this.oldSelectionEnd = this.selectionEnd;
      } else {
        if (this.hasOwnProperty("oldValue")) {
          this.value = this.oldValue;
          this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
        }
      }
    });
  };
}(jQuery));
$("#sms_qty").inputFilter(function (tymere) {
  return /^-?\d*$/.test(tymere);
});

function getUserTemplatedData(user, element) {
  var sender = $(element).find("option:selected").text();
  $("#userTemplate").html('');
  $.ajax({
    url: "processor.php", data: "mode=get-template&action=add-session&user_id=" + user + "&sender=" + sender.trim(), type: "POST", async: true, success: function (jakius) {
      var emerita = jQuery.parseJSON(jakius);
      if (emerita.status == "success") {
        // console.log(emerita);
        $("#userTemplate").html(emerita.templateid);
      }
    }, error: function (jqXHR, textStatus, errorThrown) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}

function getUserSenderData() {
  $("#userSenders").html('');
  $.ajax({
    url: "processor.php", data: "mode=get-senders&action=add-session", type: "POST", async: true, success: function (jakius) {
      var emerita = jQuery.parseJSON(jakius);
      if (emerita.status == "success") {
        $("#userSenders").html(emerita.sendersList);
      }
    }, error: function (jqXHR, textStatus, errorThrown) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}

function getUserRouteData() {
  $("#userRoutes").html('');
  $.ajax({
    url: "processor.php", data: "mode=get-routes&action=add-session", type: "POST", async: true, success: function (jakius) {
      var emerita = jQuery.parseJSON(jakius);
      if (emerita.status == "success") {
        $("#userRoutes").html(emerita.routeList);
        window.TotalSMSData = emerita.TotalSMS;
      }
    }, error: function (jqXHR, textStatus, errorThrown) {
      swal("Cancelled", "Error occured during the process. Kindly try again.", "error");
    }
  });
}
if ($('#userRoutes').length) {
  getUserRouteData();
}
